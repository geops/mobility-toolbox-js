[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 49,
    "kind": "external",
    "name": "ol/Observable~Observable",
    "externalLink": "https://openlayers.org/en/latest/apidoc/module-ol_Observable-Observable.html",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~ol/Observable~Observable",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 50,
    "kind": "external",
    "name": "ol/Map~Map",
    "externalLink": "https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~ol/Map~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 51,
    "kind": "external",
    "name": "ol/geom/LineString~LineString",
    "externalLink": "https://openlayers.org/en/latest/apidoc/module-ol_geom_LineString-LineString.html",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~ol/geom/LineString~LineString",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 52,
    "kind": "external",
    "name": "ol/geom/MultiLineString~MultiLineString",
    "externalLink": "https://openlayers.org/en/latest/apidoc/module-ol_geom_MultiLineString-MultiLineString.html",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~ol/geom/MultiLineString~MultiLineString",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 53,
    "kind": "external",
    "name": "mapboxgl.Map",
    "externalLink": "https://docs.mapbox.com/mapbox-gl-js/api/map/",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~mapboxgl.Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 54,
    "kind": "external",
    "name": "mapboxgl.map.event:mousemove",
    "externalLink": "https://docs.mapbox.com/mapbox-gl-js/api/map/#map.event:mousemove",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~mapboxgl.map.event:mousemove",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 55,
    "kind": "external",
    "name": "mapboxgl.map.event:zoomend",
    "externalLink": "https://docs.mapbox.com/mapbox-gl-js/api/map/#map.event:zoomend",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~mapboxgl.map.event:zoomend",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 56,
    "kind": "external",
    "name": "mapboxgl.mapmouseevent",
    "externalLink": "https://docs.mapbox.com/mapbox-gl-js/api/events/#mapmouseevent",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~mapboxgl.mapmouseevent",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 57,
    "kind": "external",
    "name": "AbortController",
    "externalLink": "https://developer.mozilla.org/fr/docs/Web/API/AbortController",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~AbortController",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 58,
    "kind": "external",
    "name": "GeoJSONFeature",
    "externalLink": "https://tools.ietf.org/html/rfc7946#section-3.2",
    "memberof": "src/.externals.js",
    "static": true,
    "longname": "src/.externals.js~GeoJSONFeature",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 59,
    "kind": "file",
    "name": "src/api/index.js",
    "content": "// eslint-disable-next-line import/prefer-default-export\nexport { default as StopsAPI } from './stops/StopsAPI';\nexport { default as TrajservAPI } from './trajserv/TrajservAPI';\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/api/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 60,
    "kind": "file",
    "name": "src/api/stops/StopsAPI.js",
    "content": "import qs from 'query-string';\nimport { handleError, readJsonResponse } from '../utils';\n\n/**\n * Access to the [Stops service](https://developer.geops.io/apis/5dcbd702a256d90001cf1361/).\n *\n * @example\n * import { StopsAPI } from 'mobility-toolbox-js/src/api';\n *\n * const api = new StopsAPI({\n *   url: 'https://api.geops.io/stops/v1/',\n *   apiKey: [yourApiKey]\n * });\n *\n * @classproperty {string} url Url of the service.\n * @classproperty {string} apiKey Api key to access the service.\n */\nclass StopsAPI {\n  constructor(options = {}) {\n    /** @ignore */\n    this.url = options.url || 'https://api.geops.io/stops/v1/';\n    /** @ignore */\n    this.apiKey = options.apiKey;\n  }\n\n  /**\n   * Append the apiKey before sending the request.\n   * @ignore\n   */\n  fetch(url, params = {}, config) {\n    const urlParams = { ...params, key: this.apiKey };\n    return fetch(`${url}?${qs.stringify(urlParams)}`, config).then(\n      readJsonResponse,\n    );\n  }\n\n  /**\n   * Search.\n   *\n   * @param {Object} params Request parameters. See [Stops service documentation](https://developer.geops.io/apis/5dcbd702a256d90001cf1361/).\n   * @param {AbortController} abortController Abort controller used to cancel the request.\n   * @returns {Promise<GeoJSONFeature[]>} An array of GeoJSON features with coordinates in [EPSG:4326](http://epsg.io/4326).\n   */\n  search(params, abortController = {}) {\n    return this.fetch(this.url, params, {\n      signal: abortController.signal,\n    })\n      .then((featureCollection) => featureCollection.features)\n      .catch((err) => {\n        handleError('search', err);\n      });\n  }\n}\n\nexport default StopsAPI;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/api/stops/StopsAPI.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 61,
    "kind": "class",
    "name": "StopsAPI",
    "memberof": "src/api/stops/StopsAPI.js",
    "static": true,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/api/stops/StopsAPI.js",
    "importStyle": "StopsAPI",
    "description": "Access to the [Stops service](https://developer.geops.io/apis/5dcbd702a256d90001cf1361/).",
    "examples": [
      "import { StopsAPI } from 'mobility-toolbox-js/src/api';\n\nconst api = new StopsAPI({\n  url: 'https://api.geops.io/stops/v1/',\n  apiKey: [yourApiKey]\n});"
    ],
    "lineNumber": 18,
    "unknown": [
      {
        "tagName": "@classproperty",
        "tagValue": "{string} url Url of the service."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{string} apiKey Api key to access the service."
      }
    ],
    "interface": false
  },
  {
    "__docId__": 62,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/stops/StopsAPI.js~StopsAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true
  },
  {
    "__docId__": 63,
    "kind": "member",
    "name": "url",
    "memberof": "src/api/stops/StopsAPI.js~StopsAPI",
    "static": false,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI#url",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 64,
    "kind": "member",
    "name": "apiKey",
    "memberof": "src/api/stops/StopsAPI.js~StopsAPI",
    "static": false,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI#apiKey",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 65,
    "kind": "method",
    "name": "fetch",
    "memberof": "src/api/stops/StopsAPI.js~StopsAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI#fetch",
    "access": "public",
    "description": "Append the apiKey before sending the request.",
    "lineNumber": 30,
    "ignore": true,
    "params": [
      {
        "name": "url",
        "types": [
          "*"
        ]
      },
      {
        "name": "params",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "config",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 66,
    "kind": "method",
    "name": "search",
    "memberof": "src/api/stops/StopsAPI.js~StopsAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI#search",
    "access": "public",
    "description": "Search.",
    "lineNumber": 44,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<GeoJSONFeature[]>} An array of GeoJSON features with coordinates in [EPSG:4326](http://epsg.io/4326)."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "params",
        "description": "Request parameters. See [Stops service documentation](https://developer.geops.io/apis/5dcbd702a256d90001cf1361/)."
      },
      {
        "nullable": null,
        "types": [
          "AbortController"
        ],
        "spread": false,
        "optional": false,
        "name": "abortController",
        "description": "Abort controller used to cancel the request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<GeoJSONFeature[]>"
      ],
      "spread": false,
      "description": "An array of GeoJSON features with coordinates in [EPSG:4326](http://epsg.io/4326)."
    }
  },
  {
    "__docId__": 67,
    "kind": "file",
    "name": "src/api/trajserv/TrajservAPI.js",
    "content": "import qs from 'query-string';\nimport {\n  translateTrajCollResponse,\n  translateTrajStationsResp,\n} from './TrajservAPIUtils';\nimport { handleError, readJsonResponse } from '../utils';\n\n/**\n * Access to the [Realtime service](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/).\n *\n * @example\n * import { TrajservAPI } from 'mobility-toolbox-js/src/api';\n *\n * const api = new TrajservAPI({\n *   url: 'https://api.geops.io/tracker/v1',\n *   apiKey: [yourApiKey]\n * });\n *\n * @classproperty {string} url Url of the service.\n * @classproperty {string} apiKey Api key to access the service.\n */\nclass TrajservAPI {\n  constructor(options = {}) {\n    /** @ignore */\n    this.url = options.url || 'https://api.geops.io/tracker/v1';\n    /** @ignore */\n    this.apiKey = options.apiKey;\n  }\n\n  /**\n   * Append the apiKey before sending the request.\n   * @ignore\n   */\n  fetch(url, params = {}, config) {\n    const urlParams = { ...params, key: this.apiKey };\n    return fetch(`${url}?${qs.stringify(urlParams)}`, config).then(\n      readJsonResponse,\n    );\n  }\n\n  /**\n   * Fetch a trajectory by id.\n   *\n   * @param {Object} params Request parameters. See [Realtime service documentation](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/#/default/get_trajectorybyid).\n   * @param {AbortController} abortController Abort controller used to cancel the request.\n   * @returns {Promise<Object>} A trajectory.\n   */\n  fetchTrajectoryById(params, abortController = {}) {\n    return this.fetch(`${this.url}/trajectorybyid`, params, {\n      signal: abortController.signal,\n    }).catch((err) => {\n      handleError('trajectorybyid', err);\n    });\n  }\n\n  /**\n   * Fetch trajectories.\n   *\n   * @param {Object} params Request parameters. See [Realtime service documentation](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/#/default/get_trajectory_collection).\n   * @param {AbortController} abortController Abort controller used to cancel the request.\n   * @returns {Promise<Trajectory[]>} A list of trajectories.\n   */\n  fetchTrajectories(params, abortController = {}) {\n    return this.fetch(`${this.url}/trajectory_collection`, params, {\n      signal: abortController.signal,\n    })\n      .then((data) => {\n        if (!data) {\n          return [];\n        }\n        return translateTrajCollResponse(data.features);\n      })\n      .catch((err) => {\n        handleError('trajectory_collection', err);\n      });\n  }\n\n  /**\n   * Fetch stations informations about a trajectory.\n   *\n   * @param {Object} params Request parameters. See [Realtime service documentation](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/#/default/get_trajstations).\n   * @param {AbortController} abortController Abort controller used to cancel the request.\n   * @returns {Promise<TrajStation[]>} A list of stations.\n   */\n  fetchTrajectoryStations(params, abortController = {}) {\n    return this.fetch(`${this.url}/trajstations`, params, {\n      signal: abortController.signal,\n    })\n      .then((data) => {\n        return translateTrajStationsResp(data);\n      })\n      .catch((err) => {\n        handleError('trajstations', err);\n      });\n  }\n}\n\nexport default TrajservAPI;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/api/trajserv/TrajservAPI.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 68,
    "kind": "class",
    "name": "TrajservAPI",
    "memberof": "src/api/trajserv/TrajservAPI.js",
    "static": true,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/api/trajserv/TrajservAPI.js",
    "importStyle": "TrajservAPI",
    "description": "Access to the [Realtime service](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/).",
    "examples": [
      "import { TrajservAPI } from 'mobility-toolbox-js/src/api';\n\nconst api = new TrajservAPI({\n  url: 'https://api.geops.io/tracker/v1',\n  apiKey: [yourApiKey]\n});"
    ],
    "lineNumber": 22,
    "unknown": [
      {
        "tagName": "@classproperty",
        "tagValue": "{string} url Url of the service."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{string} apiKey Api key to access the service."
      }
    ],
    "interface": false
  },
  {
    "__docId__": 69,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true
  },
  {
    "__docId__": 70,
    "kind": "member",
    "name": "url",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#url",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 71,
    "kind": "member",
    "name": "apiKey",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#apiKey",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 72,
    "kind": "method",
    "name": "fetch",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#fetch",
    "access": "public",
    "description": "Append the apiKey before sending the request.",
    "lineNumber": 34,
    "ignore": true,
    "params": [
      {
        "name": "url",
        "types": [
          "*"
        ]
      },
      {
        "name": "params",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "config",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 73,
    "kind": "method",
    "name": "fetchTrajectoryById",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#fetchTrajectoryById",
    "access": "public",
    "description": "Fetch a trajectory by id.",
    "lineNumber": 48,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>} A trajectory."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "params",
        "description": "Request parameters. See [Realtime service documentation](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/#/default/get_trajectorybyid)."
      },
      {
        "nullable": null,
        "types": [
          "AbortController"
        ],
        "spread": false,
        "optional": false,
        "name": "abortController",
        "description": "Abort controller used to cancel the request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": "A trajectory."
    }
  },
  {
    "__docId__": 74,
    "kind": "method",
    "name": "fetchTrajectories",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#fetchTrajectories",
    "access": "public",
    "description": "Fetch trajectories.",
    "lineNumber": 63,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Trajectory[]>} A list of trajectories."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "params",
        "description": "Request parameters. See [Realtime service documentation](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/#/default/get_trajectory_collection)."
      },
      {
        "nullable": null,
        "types": [
          "AbortController"
        ],
        "spread": false,
        "optional": false,
        "name": "abortController",
        "description": "Abort controller used to cancel the request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Trajectory[]>"
      ],
      "spread": false,
      "description": "A list of trajectories."
    }
  },
  {
    "__docId__": 75,
    "kind": "method",
    "name": "fetchTrajectoryStations",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#fetchTrajectoryStations",
    "access": "public",
    "description": "Fetch stations informations about a trajectory.",
    "lineNumber": 85,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<TrajStation[]>} A list of stations."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "params",
        "description": "Request parameters. See [Realtime service documentation](https://developer.geops.io/apis/5dcbd5c9a256d90001cf1360/#/default/get_trajstations)."
      },
      {
        "nullable": null,
        "types": [
          "AbortController"
        ],
        "spread": false,
        "optional": false,
        "name": "abortController",
        "description": "Abort controller used to cancel the request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<TrajStation[]>"
      ],
      "spread": false,
      "description": "A list of stations."
    }
  },
  {
    "__docId__": 76,
    "kind": "file",
    "name": "src/api/trajserv/typedefs.js",
    "content": "/**\n * @typedef {Object} OperatingInformations\n * @property {string} operatingPeriod\n * @property {string} notOperatingDays\n * @property {string} additionalOperatingDays\n *\n */\n\n/**\n * @typedef {Object} Trajectory\n * @property {string} id\n * @property {string} type\n * @property {string} name\n * @property {string} color\n * @property {string} textColor\n * @property {string} delay\n * @property {string} operator\n * @property {string} journeyIdentifier\n * @property {string} routeIdentifier\n * @property {string} timeIntervals\n * @property {ol/geom/LineString~LineString} geometry  A LineString in [EPSG:4326](http://epsg.io/4326).\n * @property {string} cancelled\n */\n\n/**\n * @typedef {Object} TrajStation\n * @property {string} id\n * @property {string} destination\n * @property {string} backgroundColor\n * @property {string} color\n * @property {string} vehicleType\n * @property {string} routeIdentifier\n * @property {string} longName\n * @property {string} shortName\n * @property {string} stations\n * @property {string} wheelchairAccessible\n * @property {string} bicyclesAllowed\n * @property {string} realTime\n * @property {string} feedsId\n * @property {OperatingInformations} operatingInformations\n * @property {string} operator\n * @property {string} operatorUrl\n * @property {string} operatorTimeZone\n */\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/api/trajserv/typedefs.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 77,
    "kind": "typedef",
    "name": "OperatingInformations",
    "memberof": "src/api/trajserv/typedefs.js",
    "static": true,
    "longname": "src/api/trajserv/typedefs.js~OperatingInformations",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "operatingPeriod",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "notOperatingDays",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "additionalOperatingDays",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "OperatingInformations"
    }
  },
  {
    "__docId__": 78,
    "kind": "typedef",
    "name": "Trajectory",
    "memberof": "src/api/trajserv/typedefs.js",
    "static": true,
    "longname": "src/api/trajserv/typedefs.js~Trajectory",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "color",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "textColor",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "delay",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "operator",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "journeyIdentifier",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "routeIdentifier",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "timeIntervals",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "ol/geom/LineString~LineString"
        ],
        "spread": false,
        "optional": false,
        "name": "geometry",
        "description": "A LineString in [EPSG:4326](http://epsg.io/4326)."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "cancelled",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "Trajectory"
    }
  },
  {
    "__docId__": 79,
    "kind": "typedef",
    "name": "TrajStation",
    "memberof": "src/api/trajserv/typedefs.js",
    "static": true,
    "longname": "src/api/trajserv/typedefs.js~TrajStation",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "destination",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "backgroundColor",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "color",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "vehicleType",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "routeIdentifier",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "longName",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "shortName",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "stations",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "wheelchairAccessible",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "bicyclesAllowed",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "realTime",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "feedsId",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "OperatingInformations"
        ],
        "spread": false,
        "optional": false,
        "name": "operatingInformations",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "operator",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "operatorUrl",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "operatorTimeZone",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "TrajStation"
    }
  },
  {
    "__docId__": 80,
    "kind": "file",
    "name": "src/common/Tracker.js",
    "content": "import { unByKey } from 'ol/Observable';\n\n/**\n * Tracker. This class draw trajectories on a canvas.\n * @class\n * @param {Object} options\n * @private\n */\nexport default class Tracker {\n  constructor(options) {\n    const opts = {\n      interpolate: true,\n      ...options,\n    };\n    this.trajectories = [];\n    this.interpolate = !!opts.interpolate;\n    this.getPixelFromCoordinate = opts.getPixelFromCoordinate;\n    this.hoverVehicleId = null;\n\n    // we draw directly on the canvas since openlayers is too slow.\n    this.canvas = opts.canvas || document.createElement('canvas');\n    this.canvas.width = opts.width;\n    this.canvas.height = opts.height;\n    this.canvas.setAttribute(\n      'style',\n      [\n        'position: absolute',\n        'top: 0',\n        'bottom: 0',\n        'right: 0',\n        'left: 0',\n        'pointer-events: none',\n        'visibility: visible',\n        'margin-top: inherit', // for scrolling behavior.\n      ].join(';'),\n    );\n    this.canvasContext = this.canvas.getContext('2d');\n  }\n\n  /**\n   * Set visibility of the canvas.\n   * @param {boolean} visible The visibility of the layer\n   */\n  setVisible(visible) {\n    if (this.canvas) {\n      this.canvas.style.visibility = visible ? 'visible' : 'hidden';\n    }\n  }\n\n  /**\n   * Define the trajectories.\n   * @param {array<ol.feature>} trajectories\n   */\n  setTrajectories(trajectories = []) {\n    if (this.sort) {\n      trajectories.sort(this.sort);\n    }\n\n    this.trajectories = trajectories;\n  }\n\n  /**\n   * Return the trajectories.\n   * @returns {array<trajectory>} trajectories\n   */\n  getTrajectories() {\n    return this.trajectories || [];\n  }\n\n  /**\n   * Clear the canvas.\n   * @private\n   */\n  clear() {\n    if (this.canvasContext) {\n      this.canvasContext.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n  }\n\n  /**\n   * Set the filter for tracker features.\n   * @param {function} filter Filter function.\n   */\n  setFilter(filter) {\n    this.filter = filter;\n  }\n\n  /**\n   * Set the sort for tracker features.\n   * @param {function} sort Sort function.\n   */\n  setSort(sort) {\n    this.sort = sort;\n  }\n\n  /**\n   * Set the id of the trajectory which is hovered.\n   * @param {string} id Id of a vehicle.\n   * @private\n   */\n  setHoverVehicleId(id) {\n    if (id !== this.hoverVehicleId) {\n      this.hoverVehicleId = id;\n      this.renderTrajectories();\n    }\n  }\n\n  /**\n   * Set the tracker style.\n   * @param {function} s OpenLayers style function.\n   */\n  setStyle(s) {\n    this.style = s;\n  }\n\n  /**\n   * Draw all the trajectories available to the canvas.\n   * @param {Date} currTime\n   * @private\n   */\n  renderTrajectories(currTime = Date.now(), size = [], resolution) {\n    this.clear();\n    const [width, height] = size;\n    if (\n      width &&\n      height &&\n      (this.canvas.width !== width || this.canvas.height !== height)\n    ) {\n      [this.canvas.width, this.canvas.height] = [width, height];\n    }\n    this.currResolution = resolution || this.currResolution;\n    let hoverVehicleImg;\n    let hoverVehiclePx;\n\n    for (let i = (this.trajectories || []).length - 1; i >= 0; i -= 1) {\n      const traj = this.trajectories[i];\n\n      // We simplify the traj object\n      const { geometry, timeIntervals, timeOffset } = traj;\n\n      if (this.filter && !this.filter(traj)) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      let coord = null;\n      let rotation;\n\n      if (timeIntervals && timeIntervals.length > 1) {\n        const now = currTime - (timeOffset || 0);\n        let start;\n        let end;\n        let startFrac;\n        let endFrac;\n        let timeFrac;\n\n        // Search th time interval.\n        for (let j = 0; j < timeIntervals.length - 1; j += 1) {\n          // Rotation only available in tralis layer.\n          [start, startFrac, rotation] = timeIntervals[j];\n          [end, endFrac] = timeIntervals[j + 1];\n\n          if (start <= now && now <= end) {\n            break;\n          } else {\n            start = null;\n            end = null;\n          }\n        }\n\n        if (start && end) {\n          // interpolate position inside the time interval.\n          timeFrac = this.interpolate\n            ? Math.min((now - start) / (end - start), 1)\n            : 0;\n\n          const geomFrac = this.interpolate\n            ? timeFrac * (endFrac - startFrac) + startFrac\n            : 0;\n\n          coord = geometry.getCoordinateAt(geomFrac);\n\n          // We set the rotation and the timeFraction of the trajectory (used by tralis).\n          this.trajectories[i].rotation = rotation;\n          this.trajectories[i].endFraction = timeFrac;\n\n          // It happens that the now date was some ms before the first timeIntervals we have.\n        } else if (now < timeIntervals[0][0]) {\n          [[, , rotation]] = timeIntervals;\n          timeFrac = 0;\n          coord = geometry.getFirstCoordinate();\n        } else if (now > timeIntervals[timeIntervals.length - 1][0]) {\n          [, , rotation] = timeIntervals[timeIntervals.length - 1];\n          timeFrac = 1;\n          coord = geometry.getLastCoordinate();\n        }\n\n        // We set the rotation and the timeFraction of the trajectory (used by tralis).\n        this.trajectories[i].rotation = rotation || 0;\n        this.trajectories[i].endFraction = timeFrac || 0;\n      }\n\n      if (coord) {\n        // We set the rotation of the trajectory (used by tralis).\n        this.trajectories[i].coordinate = coord;\n        const px = this.getPixelFromCoordinate(coord);\n\n        if (!px) {\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n\n        const vehicleImg = this.style(traj, this.currResolution);\n        if (this.hoverVehicleId !== traj.id) {\n          this.canvasContext.drawImage(\n            vehicleImg,\n            px[0] - vehicleImg.height / 2,\n            px[1] - vehicleImg.height / 2,\n          );\n        } else {\n          // Store the canvas to draw it at the end\n          hoverVehicleImg = vehicleImg;\n          hoverVehiclePx = px;\n        }\n      }\n    }\n    if (hoverVehicleImg) {\n      this.canvasContext.drawImage(\n        hoverVehicleImg,\n        hoverVehiclePx[0] - hoverVehicleImg.height / 2,\n        hoverVehiclePx[1] - hoverVehicleImg.height / 2,\n      );\n    }\n  }\n\n  /**\n   * Clean the canvas and the events the tracker.\n   * @private\n   */\n  destroy() {\n    unByKey(this.olEventsKeys);\n    this.clear();\n  }\n}\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/common/Tracker.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 81,
    "kind": "class",
    "name": "Tracker",
    "memberof": "src/common/Tracker.js",
    "static": true,
    "longname": "src/common/Tracker.js~Tracker",
    "access": "private",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/Tracker.js",
    "importStyle": "Tracker",
    "description": "Tracker. This class draw trajectories on a canvas.",
    "lineNumber": 9,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      }
    ],
    "interface": false
  },
  {
    "__docId__": 82,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 83,
    "kind": "member",
    "name": "trajectories",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#trajectories",
    "access": "public",
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "interpolate",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#interpolate",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 85,
    "kind": "member",
    "name": "getPixelFromCoordinate",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#getPixelFromCoordinate",
    "access": "public",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 86,
    "kind": "member",
    "name": "hoverVehicleId",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#hoverVehicleId",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 87,
    "kind": "member",
    "name": "canvas",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#canvas",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 88,
    "kind": "member",
    "name": "canvasContext",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#canvasContext",
    "access": "public",
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 89,
    "kind": "method",
    "name": "setVisible",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#setVisible",
    "access": "public",
    "description": "Set visibility of the canvas.",
    "lineNumber": 44,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "visible",
        "description": "The visibility of the layer"
      }
    ],
    "return": null
  },
  {
    "__docId__": 90,
    "kind": "method",
    "name": "setTrajectories",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#setTrajectories",
    "access": "public",
    "description": "Define the trajectories.",
    "lineNumber": 54,
    "params": [
      {
        "nullable": null,
        "types": [
          "array<ol.feature>"
        ],
        "spread": false,
        "optional": false,
        "name": "trajectories",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 92,
    "kind": "method",
    "name": "getTrajectories",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#getTrajectories",
    "access": "public",
    "description": "Return the trajectories.",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{array<trajectory>} trajectories"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "array<trajectory>"
      ],
      "spread": false,
      "description": "trajectories"
    },
    "params": []
  },
  {
    "__docId__": 93,
    "kind": "method",
    "name": "clear",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#clear",
    "access": "private",
    "description": "Clear the canvas.",
    "lineNumber": 74,
    "params": [],
    "return": null
  },
  {
    "__docId__": 94,
    "kind": "method",
    "name": "setFilter",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#setFilter",
    "access": "public",
    "description": "Set the filter for tracker features.",
    "lineNumber": 84,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "filter",
        "description": "Filter function."
      }
    ],
    "return": null
  },
  {
    "__docId__": 95,
    "kind": "member",
    "name": "filter",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#filter",
    "access": "public",
    "description": null,
    "lineNumber": 85,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 96,
    "kind": "method",
    "name": "setSort",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#setSort",
    "access": "public",
    "description": "Set the sort for tracker features.",
    "lineNumber": 92,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "sort",
        "description": "Sort function."
      }
    ],
    "return": null
  },
  {
    "__docId__": 97,
    "kind": "member",
    "name": "sort",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#sort",
    "access": "public",
    "description": null,
    "lineNumber": 93,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 98,
    "kind": "method",
    "name": "setHoverVehicleId",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#setHoverVehicleId",
    "access": "private",
    "description": "Set the id of the trajectory which is hovered.",
    "lineNumber": 101,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Id of a vehicle."
      }
    ],
    "return": null
  },
  {
    "__docId__": 100,
    "kind": "method",
    "name": "setStyle",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#setStyle",
    "access": "public",
    "description": "Set the tracker style.",
    "lineNumber": 112,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "s",
        "description": "OpenLayers style function."
      }
    ],
    "return": null
  },
  {
    "__docId__": 101,
    "kind": "member",
    "name": "style",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#style",
    "access": "public",
    "description": null,
    "lineNumber": 113,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 102,
    "kind": "method",
    "name": "renderTrajectories",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#renderTrajectories",
    "access": "private",
    "description": "Draw all the trajectories available to the canvas.",
    "lineNumber": 121,
    "params": [
      {
        "nullable": null,
        "types": [
          "Date"
        ],
        "spread": false,
        "optional": false,
        "name": "currTime",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 103,
    "kind": "member",
    "name": "currResolution",
    "memberof": "src/common/Tracker.js~Tracker",
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#currResolution",
    "access": "public",
    "description": null,
    "lineNumber": 131,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 104,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/common/Tracker.js~Tracker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/Tracker.js~Tracker#destroy",
    "access": "private",
    "description": "Clean the canvas and the events the tracker.",
    "lineNumber": 240,
    "params": [],
    "return": null
  },
  {
    "__docId__": 105,
    "kind": "file",
    "name": "src/common/layers/Layer.js",
    "content": "import Observable from 'ol/Observable';\nimport { v4 as uuid } from 'uuid';\n\n/**\n * A class representing a layer to display on map.\n *\n * @example\n *\n * const layer = new Layer({\n *   name: 'myLayer',\n * });\n *\n * @classproperty {string} name - Name of the layer\n * @classproperty {string} key - Identifier of the layer. Must be unique.\n * @classproperty {boolean} isBaseLayer - Define if the layer is a base layer. Read-only.\n * @classproperty {boolean} isQueryable - Define if the layer can be queried. Read-only.\n * @classproperty {boolean} isReactSpatialLayer - Custom property for duck typing since `instanceof` is not working when the instance was created on different bundles. Read-only.\n * @classproperty {Layer[]} children - List of children.\n * @classproperty {string} copyright - Copyright.\n * @classproperty {boolean} visible - Define if the layer is visible or not.\n * @classproperty {Object} properties - Custom properties.\n * @classproperty {ol/Map~Map|mapboxgl.Map} map - The map where the layer is displayed.\n */\nexport default class Layer extends Observable {\n  /**\n   * Constructor\n   *\n   * @param {Object} options\n   * @param {string} [options.name=uuid()] Layer name. Default use a generated uuid.\n   * @param {string} [options.key=uuid().toLowerCase()] Layer key, will use options.name.toLowerCase() if not specified.\n   * @param {string} [options.copyright=undefined] Copyright-Statement.\n   * @param {Array<Layer>} [options.children=[]] Sublayers.\n   * @param {Object} [options.properties={}] Application-specific layer properties.\n   * @param {boolean} [options.visible=true] If true this layer is visible on the map.\n   * @param {boolean} [options.isBaseLayer=false] If true this layer is a baseLayer.\n   * @param {boolean} [options.isQueryable=undefined] If true feature information can be queried by the react-spatial LayerService. Default is undefined, but resulting to true if not strictly set to false.\n   */\n  constructor(options) {\n    super();\n    this.defineProperties(options);\n\n    // Add click callback\n    const { onClick } = options;\n    if (onClick) {\n      this.onClick(onClick);\n    }\n  }\n\n  /**\n   * Define layer's properties.\n   *\n   * @ignore\n   */\n  defineProperties({\n    name,\n    key,\n    children,\n    copyright,\n    visible,\n    properties,\n    isBaseLayer,\n    isQueryable,\n  }) {\n    const uid = uuid();\n    const dfltName = name || uid;\n    Object.defineProperties(this, {\n      name: {\n        value: dfltName,\n      },\n      key: {\n        value: key || dfltName.toLowerCase(),\n      },\n      isBaseLayer: {\n        value: !!isBaseLayer,\n      },\n      isQueryable: {\n        value: isQueryable !== false,\n        writable: true,\n      },\n      // Custom property for duck typing since `instanceof` is not working\n      // when the instance was created on different bundles.\n      isReactSpatialLayer: {\n        value: true,\n      },\n      children: {\n        value: children || [],\n        writable: true,\n      },\n      copyright: {\n        value: copyright,\n        writable: true,\n      },\n      visible: {\n        value: visible === undefined ? true : visible,\n        writable: true,\n      },\n      properties: {\n        value: properties || {},\n      },\n      map: {\n        writable: true,\n      },\n      /**\n       * Callback function when a user click on a vehicle.\n       */\n      clickCallbacks: {\n        value: [],\n      },\n    });\n  }\n\n  /**\n   * Initialize the layer with the map passed in parameters.\n   *\n   * @param {ol/Map~Map|mapboxgl.Map} map A map.\n   */\n  init(map) {\n    this.terminate();\n    /** @ignore */\n    this.map = map;\n  }\n\n  /**\n   * Terminate what was initialized in init function. Remove layer, events...\n   */\n  // eslint-disable-next-line class-methods-use-this\n  terminate() {}\n\n  /**\n   * Get a layer property.\n   *\n   * @param {string} name Property name.\n   * @returns {property} Property\n   */\n  get(name) {\n    return this.properties[name];\n  }\n\n  /**\n   * Set a layer property.\n   *\n   * @param {string} name Property name.\n   * @param {string} value Value.\n   */\n  set(name, value) {\n    this.properties[name] = value;\n    this.dispatchEvent({\n      type: `change:${name}`,\n      target: this,\n    });\n  }\n\n  /**\n   * Change the visibility of the layer\n   *\n   * @param {boolean} visible Defines the visibility of the layer\n   * @param {boolean} [stopPropagationDown]\n   * @param {boolean} [stopPropagationUp]\n   * @param {boolean} [stopPropagationSiblings]\n   */\n  setVisible(\n    visible,\n    stopPropagationDown = false,\n    stopPropagationUp = false,\n    stopPropagationSiblings = false,\n  ) {\n    if (visible === this.visible) {\n      return;\n    }\n\n    /** @ignore */\n    this.visible = visible;\n\n    this.dispatchEvent({\n      type: 'change:visible',\n      target: this,\n      stopPropagationDown,\n      stopPropagationUp,\n      stopPropagationSiblings,\n    });\n  }\n\n  /**\n   * Returns an array with visible child layers\n   *\n   * @returns {Layer[]} Visible children\n   */\n  getVisibleChildren() {\n    return this.children.filter((child) => child.visible);\n  }\n\n  /**\n   * Checks whether the layer has child layers with visible set to True\n   *\n   * @returns {boolean} True if the layer has visible child layers\n   */\n  hasVisibleChildren() {\n    return !!this.hasChildren(true);\n  }\n\n  /**\n   * Checks whether the layer has any child layers with visible equal to the input parameter\n   *\n   * @param {boolean} visible The state to check the childlayers against\n   * @returns {boolean} True if the layer has children with the given visibility\n   */\n  hasChildren(visible) {\n    return !!this.children.find((child) => child.visible === visible);\n  }\n\n  /**\n   * Add a child layer\n   *\n   * @param {Layer} layer Add a child layer\n   */\n  addChild(layer) {\n    this.children.unshift(layer);\n    this.dispatchEvent({\n      type: `change:children`,\n      target: this,\n    });\n  }\n\n  /**\n   * Removes a child layer by layer name\n   *\n   * @param {string} name Layer's name\n   */\n  removeChild(name) {\n    for (let i = 0; i < this.children.length; i += 1) {\n      if (this.children[i].name === name) {\n        this.children.splice(i, 1);\n        return;\n      }\n    }\n    this.dispatchEvent({\n      type: `change:children`,\n      target: this,\n    });\n  }\n\n  /**\n   * Request feature information for a given coordinate.\n   *\n   * @param {number[2]} coordinate Coordinate to request the information at.\n   * @returns {Promise<{layer:Layer, features:Object[], coordinate:number[]}>} Promise with features, layer and coordinate\n   *  or null if no feature was hit.\n   */\n  getFeatureInfoAtCoordinate() {\n    // This layer returns no feature info.\n    // The function is implemented by inheriting layers.\n    return Promise.resolve({\n      layer: this,\n      features: [],\n      coordinate: null,\n    });\n  }\n\n  /**\n   * Listens to click events on the layer.\n   * @param {function} callback Callback function, called with the clicked\n   *   features,\n   *   the layer instance and the click event.\n   */\n  onClick(callback) {\n    if (typeof callback === 'function') {\n      if (!this.clickCallbacks.includes(callback)) {\n        this.clickCallbacks.push(callback);\n      }\n    } else {\n      throw new Error('callback must be of type function.');\n    }\n  }\n\n  /**\n   * Unlistens to click events on the layer.\n   * @param {function} callback Callback function, called with the clicked\n   *   features,\n   *   the layer instance and the click event.\n   */\n  unClick(callback) {\n    if (typeof callback === 'function') {\n      const idx = this.clickCallbacks.indexOf(callback);\n      if (idx >= -1) {\n        this.clickCallbacks.splice(idx, 1);\n      }\n    }\n  }\n}\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/common/layers/Layer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 106,
    "kind": "class",
    "name": "Layer",
    "memberof": "src/common/layers/Layer.js",
    "static": true,
    "longname": "src/common/layers/Layer.js~Layer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/layers/Layer.js",
    "importStyle": "Layer",
    "description": "A class representing a layer to display on map.",
    "examples": [
      "\nconst layer = new Layer({\n  name: 'myLayer',\n});"
    ],
    "lineNumber": 24,
    "unknown": [
      {
        "tagName": "@classproperty",
        "tagValue": "{string} name - Name of the layer"
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{string} key - Identifier of the layer. Must be unique."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} isBaseLayer - Define if the layer is a base layer. Read-only."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} isQueryable - Define if the layer can be queried. Read-only."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} isReactSpatialLayer - Custom property for duck typing since `instanceof` is not working when the instance was created on different bundles. Read-only."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{Layer[]} children - List of children."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{string} copyright - Copyright."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} visible - Define if the layer is visible or not."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{Object} properties - Custom properties."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{ol/Map~Map|mapboxgl.Map} map - The map where the layer is displayed."
      }
    ],
    "interface": false,
    "extends": [
      "ol/Observable~Observable"
    ]
  },
  {
    "__docId__": 107,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#constructor",
    "access": "public",
    "description": "Constructor",
    "lineNumber": 38,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "uuid()",
        "defaultRaw": "uuid()",
        "name": "options.name",
        "description": "Layer name. Default use a generated uuid."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "uuid().toLowerCase()",
        "defaultRaw": "uuid().toLowerCase()",
        "name": "options.key",
        "description": "Layer key, will use options.name.toLowerCase() if not specified."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "undefined",
        "defaultRaw": "undefined",
        "name": "options.copyright",
        "description": "Copyright-Statement."
      },
      {
        "nullable": null,
        "types": [
          "Array<Layer>"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[]",
        "defaultRaw": [],
        "name": "options.children",
        "description": "Sublayers."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options.properties",
        "description": "Application-specific layer properties."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "options.visible",
        "description": "If true this layer is visible on the map."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "options.isBaseLayer",
        "description": "If true this layer is a baseLayer."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "undefined",
        "defaultRaw": "undefined",
        "name": "options.isQueryable",
        "description": "If true feature information can be queried by the react-spatial LayerService. Default is undefined, but resulting to true if not strictly set to false."
      }
    ]
  },
  {
    "__docId__": 108,
    "kind": "method",
    "name": "defineProperties",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#defineProperties",
    "access": "public",
    "description": "Define layer's properties.",
    "lineNumber": 54,
    "ignore": true,
    "params": [
      {
        "name": "objectPattern",
        "types": [
          "{\"name\": *, \"key\": *, \"children\": *, \"copyright\": *, \"visible\": *, \"properties\": *, \"isBaseLayer\": *, \"isQueryable\": *}"
        ],
        "defaultRaw": {
          "name": null,
          "key": null,
          "children": null,
          "copyright": null,
          "visible": null,
          "properties": null,
          "isBaseLayer": null,
          "isQueryable": null
        },
        "defaultValue": "{\"name\":null,\"key\":null,\"children\":null,\"copyright\":null,\"visible\":null,\"properties\":null,\"isBaseLayer\":null,\"isQueryable\":null}"
      }
    ],
    "return": null
  },
  {
    "__docId__": 109,
    "kind": "method",
    "name": "init",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#init",
    "access": "public",
    "description": "Initialize the layer with the map passed in parameters.",
    "lineNumber": 117,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol/Map~Map",
          "mapboxgl.Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "A map."
      }
    ],
    "return": null
  },
  {
    "__docId__": 110,
    "kind": "member",
    "name": "map",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#map",
    "access": "public",
    "description": null,
    "lineNumber": 120,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 111,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#terminate",
    "access": "public",
    "description": "Terminate what was initialized in init function. Remove layer, events...",
    "lineNumber": 127,
    "params": [],
    "return": null
  },
  {
    "__docId__": 112,
    "kind": "method",
    "name": "get",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#get",
    "access": "public",
    "description": "Get a layer property.",
    "lineNumber": 135,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{property} Property"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Property name."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "property"
      ],
      "spread": false,
      "description": "Property"
    }
  },
  {
    "__docId__": 113,
    "kind": "method",
    "name": "set",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#set",
    "access": "public",
    "description": "Set a layer property.",
    "lineNumber": 145,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Property name."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "Value."
      }
    ],
    "return": null
  },
  {
    "__docId__": 114,
    "kind": "method",
    "name": "setVisible",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#setVisible",
    "access": "public",
    "description": "Change the visibility of the layer",
    "lineNumber": 161,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "visible",
        "description": "Defines the visibility of the layer"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "stopPropagationDown",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "stopPropagationUp",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "stopPropagationSiblings",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 115,
    "kind": "member",
    "name": "visible",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#visible",
    "access": "public",
    "description": null,
    "lineNumber": 172,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 116,
    "kind": "method",
    "name": "getVisibleChildren",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#getVisibleChildren",
    "access": "public",
    "description": "Returns an array with visible child layers",
    "lineNumber": 188,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Layer[]} Visible children"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Layer[]"
      ],
      "spread": false,
      "description": "Visible children"
    },
    "params": []
  },
  {
    "__docId__": 117,
    "kind": "method",
    "name": "hasVisibleChildren",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#hasVisibleChildren",
    "access": "public",
    "description": "Checks whether the layer has child layers with visible set to True",
    "lineNumber": 197,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean} True if the layer has visible child layers"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": "True if the layer has visible child layers"
    },
    "params": []
  },
  {
    "__docId__": 118,
    "kind": "method",
    "name": "hasChildren",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#hasChildren",
    "access": "public",
    "description": "Checks whether the layer has any child layers with visible equal to the input parameter",
    "lineNumber": 207,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean} True if the layer has children with the given visibility"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "visible",
        "description": "The state to check the childlayers against"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": "True if the layer has children with the given visibility"
    }
  },
  {
    "__docId__": 119,
    "kind": "method",
    "name": "addChild",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#addChild",
    "access": "public",
    "description": "Add a child layer",
    "lineNumber": 216,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "layer",
        "description": "Add a child layer"
      }
    ],
    "return": null
  },
  {
    "__docId__": 120,
    "kind": "method",
    "name": "removeChild",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#removeChild",
    "access": "public",
    "description": "Removes a child layer by layer name",
    "lineNumber": 229,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Layer's name"
      }
    ],
    "return": null
  },
  {
    "__docId__": 121,
    "kind": "method",
    "name": "getFeatureInfoAtCoordinate",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#getFeatureInfoAtCoordinate",
    "access": "public",
    "description": "Request feature information for a given coordinate.",
    "lineNumber": 249,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<{layer:Layer, features:Object[], coordinate:number[]}>} Promise with features, layer and coordinate\n or null if no feature was hit."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number[2]"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": "Coordinate to request the information at."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{layer:Layer, features:Object[], coordinate:number[]}>"
      ],
      "spread": false,
      "description": "Promise with features, layer and coordinate\n or null if no feature was hit."
    }
  },
  {
    "__docId__": 122,
    "kind": "method",
    "name": "onClick",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#onClick",
    "access": "public",
    "description": "Listens to click events on the layer.",
    "lineNumber": 265,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Callback function, called with the clicked\n  features,\n  the layer instance and the click event."
      }
    ],
    "return": null
  },
  {
    "__docId__": 123,
    "kind": "method",
    "name": "unClick",
    "memberof": "src/common/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#unClick",
    "access": "public",
    "description": "Unlistens to click events on the layer.",
    "lineNumber": 281,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Callback function, called with the clicked\n  features,\n  the layer instance and the click event."
      }
    ],
    "return": null
  },
  {
    "__docId__": 124,
    "kind": "file",
    "name": "src/common/mixins/TrackerLayerMixin.js",
    "content": "/* eslint-disable class-methods-use-this */\n/* eslint-disable max-classes-per-file */\nimport { buffer, containsCoordinate } from 'ol/extent';\nimport { unByKey } from 'ol/Observable';\nimport Tracker from '../Tracker';\nimport { timeSteps } from '../trackerConfig';\n\n/**\n * TrackerLayerInterface.\n *\n * @classproperty {boolean} isTrackerLayer - Property for duck typing since `instanceof` is not working when the instance was created on different bundles.\n * @classproperty {boolean} isHoverActive - Activate/deactivate pointer hover effect.\n * @classproperty {function} style - Style of the vehicle.\n * @classproperty {FilterFunction} filter - Time speed.\n * @classproperty {function} sort - Set the filter for tracker features.\n */\nexport class TrackerLayerInterface {\n  /**\n   * Initalize the Tracker.\n   * @param map\n   * @param {Object} options\n   * @param {number} [options.width] Canvas's width.\n   * @param {number} [options.height] Canvas's height.\n   * @param {function} [options.getPixelFromCoordinate] Convert an EPSG:3857 coordinate to a canvas pixel (origin top-left).\n   */\n  // eslint-disable-next-line no-unused-vars\n  init(map, options) {}\n\n  /**\n   * Destroy the Tracker.\n   */\n  terminate() {}\n\n  /**\n   * Start the clock.\n   *\n   * @param {Array<number>} size Map's size: [width, height].\n   * @param {number} zoom Map's zoom level.\n   * @param {number} resolution Map's resolution.\n   */\n  // eslint-disable-next-line no-unused-vars\n  start(size, zoom, resolution) {}\n\n  // eslint-disable-next-line no-unused-vars\n  startUpdateTime(zoom) {}\n\n  /**\n   * Stop the clock.\n   */\n  stop() {}\n\n  stopUpdateTime() {}\n\n  /**\n   * Set the current time, it triggers a rendering of the trajectories.\n   * @param {dateString | value} time\n   */\n  // eslint-disable-next-line no-unused-vars\n  setCurrTime(time, size, resolution) {}\n\n  /**\n   * Get vehicle.\n   * @param {function} filterFc A function use to filter results.\n   */\n  // eslint-disable-next-line no-unused-vars\n  getVehicle(filterFc) {}\n\n  /**\n   * Returns the vehicle which are at the given coordinates.\n   * Returns null when no vehicle is located at the given coordinates.\n   * @param {ol.coordinate} coordinate\n   * @returns {ol.feature | null} Vehicle feature\n   */\n  // eslint-disable-next-line no-unused-vars\n  getVehiclesAtCoordinate(coordinate, resolution = 1) {}\n\n  /**\n   * Get the duration before the next update depending on zoom level.\n   * @private\n   */\n  // eslint-disable-next-line no-unused-vars\n  getRefreshTimeInMs(zoom) {}\n\n  /**\n   * Define a default style of the vehicle.s\n   * Draw a blue circle with the id of the props parameter.\n   *\n   * @param {Object} props Properties\n   * @private\n   */\n  // eslint-disable-next-line no-unused-vars\n  defaultStyle(props) {}\n}\n\n/**\n * Mixin for TrackeLayerInterface.\n *\n * @param {Class} Base  A class to extend with {TrackerLayerInterface} functionnalities.\n * @return {Class}  A class that implements <TrackerLayerInterface> class and extends Base;\n */\nconst TrackerLayerMixin = (Base) =>\n  class extends Base {\n    defineProperties(options) {\n      const { isHoverActive, style, speed } = {\n        isHoverActive: true,\n        ...options,\n      };\n      let cuurSpeed = speed || 1;\n      super.defineProperties(options);\n      Object.defineProperties(this, {\n        isTrackerLayer: { value: true },\n        isHoverActive: {\n          value: !!isHoverActive,\n          writable: true,\n        },\n        style: {\n          value: style || this.defaultStyle,\n        },\n        speed: {\n          get: () => cuurSpeed,\n          set: (newSpeed) => {\n            cuurSpeed = newSpeed;\n            this.start();\n          },\n        },\n        filter: {\n          get: () => this.tracker.filter,\n          set: (filter) => {\n            if (this.tracker) {\n              this.tracker.setFilter(filter);\n            }\n          },\n        },\n        sort: {\n          get: () => this.tracker.sort,\n          set: (sort) => {\n            if (this.sort) {\n              this.tracker.setSort(sort);\n            }\n          },\n        },\n\n        /**\n         * The tracker that renders the trajectories.\n         */\n        tracker: { value: null, writable: true },\n\n        /**\n         * Canvas cache object for trajectories drawn.\n         */\n        styleCache: { value: {} },\n\n        /**\n         * Time used to display the trajectories.\n         */\n        currTime: {\n          value: new Date(),\n          writable: true,\n        },\n\n        /**\n         * Keep track of the last time used to render trajectories.\n         * Useful when the speed increase.\n         */\n        lastUpdateTime: {\n          value: new Date(),\n          writable: true,\n        },\n      });\n    }\n\n    /**\n     * Initalize the Tracker.\n     * @param map\n     * @param {Object} options\n     * @param {Number} [options.width] Canvas's width.\n     * @param {Number} [options.height] Canvas's height.\n     * @param {function} [options.getPixelFromCoordinate] Convert an EPSG:3857 coordinate to a canvas pixel (origin top-left).\n     */\n    init(map, options) {\n      super.init(map);\n      this.tracker = new Tracker(options);\n      this.tracker.setStyle((props, r) => this.style(props, r));\n\n      if (this.visible) {\n        this.start();\n      }\n\n      this.visibilityRef = this.on('change:visible', (evt) => {\n        if (evt.target.visible) {\n          this.start();\n        } else {\n          this.stop();\n        }\n      });\n    }\n\n    /**\n     * Destroy the Tracker.\n     */\n    terminate() {\n      this.stop();\n      unByKey(this.visibilityRef);\n      if (this.tracker) {\n        this.tracker.destroy();\n        this.tracker = null;\n      }\n      super.terminate();\n    }\n\n    /**\n     * Start the clock.\n     *\n     * @param {Array<Number>} size Map's size: [width, height].\n     * @param {Number} zoom Map's zoom level.\n     * @param {Number} resolution Map's resolution.\n     */\n    start(size, zoom, resolution) {\n      this.stop();\n      this.tracker.setVisible(true);\n      this.tracker.renderTrajectories(this.currTime, size, resolution);\n      this.startUpdateTime(zoom);\n    }\n\n    startUpdateTime(zoom) {\n      this.updateTimeInterval = setInterval(() => {\n        const newTime =\n          this.currTime.getTime() +\n          (new Date() - this.lastUpdateTime) * this.speed;\n        this.setCurrTime(newTime);\n      }, this.getRefreshTimeInMs(zoom));\n    }\n\n    /**\n     * Stop the clock.\n     */\n    stop() {\n      this.stopUpdateTime();\n      if (this.tracker) {\n        this.tracker.setVisible(false);\n        this.tracker.clear();\n      }\n    }\n\n    stopUpdateTime() {\n      clearInterval(this.updateTimeInterval);\n    }\n\n    /**\n     * Set the current time, it triggers a rendering of the trajectories.\n     * @param {dateString | value} time\n     */\n    setCurrTime(time, size, resolution) {\n      const newTime = new Date(time);\n      this.currTime = newTime;\n      this.lastUpdateTime = new Date();\n      this.tracker.renderTrajectories(this.currTime, size, resolution);\n    }\n\n    /**\n     * Get vehicle.\n     * @param {function} filterFc A function use to filter results.\n     */\n    getVehicle(filterFc) {\n      return this.tracker.getTrajectories().filter(filterFc);\n    }\n\n    /**\n     * Returns an array of vehicles located at the given coordinates and resolution.\n     *\n     * @param {number[2]} coordinate\n     * @param {number[2]} resolution\n     * @returns {Object[]} Array of vehicle.\n     */\n    getVehiclesAtCoordinate(coordinate, resolution = 1) {\n      const ext = buffer([...coordinate, ...coordinate], 10 * resolution);\n      const trajectories = this.tracker.getTrajectories();\n      const vehicles = [];\n      for (let i = 0; i < trajectories.length; i += 1) {\n        if (\n          trajectories[i].coordinate &&\n          containsCoordinate(ext, trajectories[i].coordinate)\n        ) {\n          vehicles.push(trajectories[i]);\n        }\n      }\n\n      return vehicles;\n    }\n\n    /**\n     * Get the duration before the next update depending on zoom level.\n     * @private\n     */\n    getRefreshTimeInMs(zoom) {\n      const roundedZoom = Math.round(zoom);\n      const timeStep = timeSteps[roundedZoom] || 25;\n      const nextTick = Math.max(25, timeStep / this.speed);\n      return nextTick;\n    }\n\n    /**\n     * Define a default style of the vehicle.s\n     * Draw a blue circle with the id of the props parameter.\n     *\n     * @param {Object} props Properties\n     * @private\n     */\n    defaultStyle(props) {\n      const { id: text } = props;\n      if (this.styleCache[text]) {\n        return this.styleCache[text];\n      }\n      const canvas = document.createElement('canvas');\n      canvas.width = 200;\n      canvas.height = 15;\n      const ctx = canvas.getContext('2d');\n      ctx.arc(8, 8, 5, 0, 2 * Math.PI, false);\n      ctx.fillStyle = '#8ED6FF';\n      ctx.fill();\n      ctx.lineWidth = 3;\n      ctx.strokeStyle = 'black';\n      ctx.stroke();\n      ctx.font = 'bold 12px arial';\n      ctx.strokeStyle = 'white';\n      ctx.lineWidth = 3;\n      ctx.strokeText(text, 20, 10);\n      ctx.fillStyle = 'black';\n      ctx.fillText(text, 20, 10);\n      this.styleCache[text] = canvas;\n      return this.styleCache[text];\n    }\n  };\n\nexport default TrackerLayerMixin;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/common/mixins/TrackerLayerMixin.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 125,
    "kind": "class",
    "name": "TrackerLayerInterface",
    "memberof": "src/common/mixins/TrackerLayerMixin.js",
    "static": true,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/mixins/TrackerLayerMixin.js",
    "importStyle": "{TrackerLayerInterface}",
    "description": "TrackerLayerInterface.",
    "lineNumber": 17,
    "unknown": [
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} isTrackerLayer - Property for duck typing since `instanceof` is not working when the instance was created on different bundles."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} isHoverActive - Activate/deactivate pointer hover effect."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{function} style - Style of the vehicle."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{FilterFunction} filter - Time speed."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{function} sort - Set the filter for tracker features."
      }
    ],
    "interface": false
  },
  {
    "__docId__": 126,
    "kind": "method",
    "name": "init",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#init",
    "access": "public",
    "description": "Initalize the Tracker.",
    "lineNumber": 27,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "options.width",
        "description": "Canvas's width."
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "options.height",
        "description": "Canvas's height."
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": true,
        "name": "options.getPixelFromCoordinate",
        "description": "Convert an EPSG:3857 coordinate to a canvas pixel (origin top-left)."
      }
    ],
    "return": null
  },
  {
    "__docId__": 127,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#terminate",
    "access": "public",
    "description": "Destroy the Tracker.",
    "lineNumber": 32,
    "params": [],
    "return": null
  },
  {
    "__docId__": 128,
    "kind": "method",
    "name": "start",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#start",
    "access": "public",
    "description": "Start the clock.",
    "lineNumber": 42,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array<number>"
        ],
        "spread": false,
        "optional": false,
        "name": "size",
        "description": "Map's size: [width, height]."
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "zoom",
        "description": "Map's zoom level."
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "resolution",
        "description": "Map's resolution."
      }
    ],
    "return": null
  },
  {
    "__docId__": 129,
    "kind": "method",
    "name": "startUpdateTime",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#startUpdateTime",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "params": [
      {
        "name": "zoom",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 130,
    "kind": "method",
    "name": "stop",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#stop",
    "access": "public",
    "description": "Stop the clock.",
    "lineNumber": 50,
    "params": [],
    "return": null
  },
  {
    "__docId__": 131,
    "kind": "method",
    "name": "stopUpdateTime",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#stopUpdateTime",
    "access": "public",
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 132,
    "kind": "method",
    "name": "setCurrTime",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#setCurrTime",
    "access": "public",
    "description": "Set the current time, it triggers a rendering of the trajectories.",
    "lineNumber": 59,
    "params": [
      {
        "nullable": null,
        "types": [
          "dateString ",
          " value"
        ],
        "spread": false,
        "optional": false,
        "name": "time",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 133,
    "kind": "method",
    "name": "getVehicle",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#getVehicle",
    "access": "public",
    "description": "Get vehicle.",
    "lineNumber": 66,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "filterFc",
        "description": "A function use to filter results."
      }
    ],
    "return": null
  },
  {
    "__docId__": 134,
    "kind": "method",
    "name": "getVehiclesAtCoordinate",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#getVehiclesAtCoordinate",
    "access": "public",
    "description": "Returns the vehicle which are at the given coordinates.\nReturns null when no vehicle is located at the given coordinates.",
    "lineNumber": 75,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{ol.feature | null} Vehicle feature"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.coordinate"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "ol.feature ",
        " null"
      ],
      "spread": false,
      "description": "Vehicle feature"
    }
  },
  {
    "__docId__": 135,
    "kind": "method",
    "name": "getRefreshTimeInMs",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#getRefreshTimeInMs",
    "access": "private",
    "description": "Get the duration before the next update depending on zoom level.",
    "lineNumber": 82,
    "params": [
      {
        "name": "zoom",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 136,
    "kind": "method",
    "name": "defaultStyle",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#defaultStyle",
    "access": "private",
    "description": "Define a default style of the vehicle.s\nDraw a blue circle with the id of the props parameter.",
    "lineNumber": 92,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "props",
        "description": "Properties"
      }
    ],
    "return": null
  },
  {
    "__docId__": 137,
    "kind": "function",
    "name": "TrackerLayerMixin",
    "memberof": "src/common/mixins/TrackerLayerMixin.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerMixin",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/mixins/TrackerLayerMixin.js",
    "importStyle": "TrackerLayerMixin",
    "description": "Mixin for TrackeLayerInterface.",
    "lineNumber": 101,
    "params": [
      {
        "nullable": null,
        "types": [
          "Class"
        ],
        "spread": false,
        "optional": false,
        "name": "Base",
        "description": "A class to extend with {TrackerLayerInterface} functionnalities."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Class"
      ],
      "spread": false,
      "description": "A class that implements <TrackerLayerInterface> class and extends Base;"
    }
  },
  {
    "__docId__": 138,
    "kind": "file",
    "name": "src/common/mixins/TrajservLayerMixin.js",
    "content": "/* eslint-disable no-unused-vars */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable max-classes-per-file */\nimport qs from 'query-string';\nimport { fromLonLat } from 'ol/proj';\nimport { buffer, getWidth } from 'ol/extent';\n// import { LineString } from 'ol/geom';\nimport { getDateString, getUTCTimeString } from '../timeUtils';\nimport {\n  getRadius,\n  getBgColor,\n  getDelayColor,\n  getDelayText,\n  getTextColor,\n  getTextSize,\n} from '../trackerConfig';\nimport { TrajservAPI } from '../../api';\n\n/**\n * TrajservLayerInterface.\n *\n * @classproperty {boolean} isTrackerLayer - Property for duck typing since `instanceof` is not working when the instance was created on different bundles.\n * @classproperty {boolean} isHoverActive - Activate/deactivate pointer hover effect.\n * @classproperty {function} style - Style of the vehicle.\n * @classproperty {FilterFunction} filter - Time speed.\n * @classproperty {function} sort - Set the filter for tracker features.\n *\n * @extends {TrackerLayerInterface}\n */\nexport class TrajservLayerInterface {\n  /**\n   * Initialize the layer and listen to feature clicks.\n   * @param {ol/Map~Map|mapboxgl.Map} map A map.\n   * @override\n   */\n  init(map) {}\n\n  /**\n   * Start to update trajectories and initialize the filter.\n   * @override\n   */\n  start() {}\n\n  /**\n   * Stop to update trajectories.\n   * @override\n   */\n  stop() {}\n\n  /**\n   * Set the tracker filter property using class properties.\n   * @private\n   */\n  addTrackerFilters() {}\n\n  /**\n   * Abort http requests.\n   *\n   * @private\n   */\n  abortFetchTrajectories() {}\n\n  /**\n   * Fetch stations information with a trajectory id.\n   * @param {number} trajId The id of the trajectory.\n   * @private\n   */\n  updateTrajectoryStations(trajId) {}\n\n  /**\n   * Returns the URL parameters.\n   * @param {Object} extraParams Extra parameters\n   * @returns {Object}\n   * @private\n   */\n  getParams(extraParams = {}) {}\n\n  /**\n   * Start the update of trajectories.\n   * @private\n   */\n  startUpdateTrajectories() {}\n\n  /**\n   * Stop the update of trajectories.\n   * @private\n   */\n  stopUpdateTrajectories() {}\n\n  /**\n   * Update the trajectories\n   * @private\n   */\n  updateTrajectories() {}\n\n  /**\n   * Define the style of the vehicle.\n   * Draw a colored circle depending on train delay.\n   *\n   * @param {Object} props Properties\n   * @private\n   */\n  defaultStyle(props) {}\n}\n\nconst LINE_FILTER = 'publishedlinename';\nconst ROUTE_FILTER = 'tripnumber';\nconst OPERATOR_FILTER = 'operator';\n\n/**\n * Mixin for TrajservLayerInterface.\n *\n * @param {TrackerLayer} TrackerLayer A {TrackerLayer} class to extend with {TrajservLayerInterface} functionnalities.\n * @return {Class}  A class that implements {TrajservLayerInterface} class and extends Base;\n */\nconst TrajservLayerMixin = (TrackerLayer) =>\n  class extends TrackerLayer {\n    /**\n     * Create a filter based on train and operator\n     * @param {string} line\n     * @param {string} route\n     * @param {string} operator\n     * @param {string} regexLine\n     * @private\n     */\n    createFilter(line, trip, operator, regexLine) {\n      const filterList = [];\n\n      if (!line && !trip && !operator && !regexLine) {\n        return null;\n      }\n\n      if (regexLine) {\n        const regexLineList =\n          typeof regexLine === 'string' ? [regexLine] : regexLine;\n        const lineFilter = (t) =>\n          regexLineList.some((tr) => new RegExp(tr, 'i').test(t.name));\n        filterList.push(lineFilter);\n      }\n\n      if (line) {\n        const lineFiltersList =\n          typeof line === 'string' ? line.split(',') : line;\n        const lineList = lineFiltersList.map((l) =>\n          l.replace(/\\s+/g, '').toUpperCase(),\n        );\n        const lineFilter = (l) =>\n          lineList.some((filter) => filter === l.name.toUpperCase());\n        filterList.push(lineFilter);\n      }\n\n      if (trip) {\n        const tripFilters = typeof trip === 'string' ? trip.split(',') : trip;\n        const tripList = tripFilters.map((rt) => parseInt(rt, 10));\n        const tripFilter = (t) => {\n          const tripId = parseInt(t.routeIdentifier.split('.')[0], 10);\n          return tripList.some((tr) => tr === tripId);\n        };\n        filterList.push(tripFilter);\n      }\n\n      if (operator) {\n        const operatorList =\n          typeof operator === 'string' ? [operator] : operator;\n        const operatorFilter = (t) =>\n          operatorList.some((op) => new RegExp(op, 'i').test(t.operator));\n        filterList.push(operatorFilter);\n      }\n\n      return (t) => {\n        for (let i = 0; i < filterList.length; i += 1) {\n          if (!filterList[i](t)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    }\n\n    defineProperties(options) {\n      super.defineProperties(options);\n      Object.defineProperties(this, {\n        showVehicleTraj: {\n          value:\n            options.showVehicleTraj !== undefined\n              ? options.showVehicleTraj\n              : true,\n          writable: true,\n        },\n        delayDisplay: {\n          value: options.delayDisplay || 300000,\n          writable: true,\n        },\n        delayOutlineColor: {\n          value: options.delayOutlineColor || '#000000',\n          writable: true,\n        },\n        useDelayStyle: {\n          value: options.useDelayStyle || false,\n          writable: true,\n        },\n        requestIntervalSeconds: {\n          value: 3,\n          writable: true,\n        },\n        regexPublishedLineName: {\n          value: options.regexPublishedLineName,\n          writable: true,\n        },\n        api: {\n          value: new TrajservAPI({ url: options.url, apiKey: options.apiKey }),\n        },\n      });\n    }\n\n    init(map) {\n      super.init(map);\n\n      // Sort the trajectories.\n      if (this.sortFc) {\n        this.sort = this.sortFc;\n      } else if (this.useDelayStyle) {\n        // Automatic sorting depending on delay, higher delay on top.\n        this.sort = (a, b) => {\n          if (a.delay === null) return 1;\n          return a.delay < b.delay ? 1 : -1;\n        };\n      }\n    }\n\n    start() {\n      this.addTrackerFilters();\n      super.start();\n      this.startUpdateTrajectories();\n    }\n\n    stop() {\n      this.journeyId = null;\n      this.stopUpdateTrajectories();\n      this.abortFetchTrajectories();\n      super.stop();\n    }\n\n    addTrackerFilters() {\n      // Setting filters from the permalink.\n      const parameters = qs.parse(window.location.search.toLowerCase());\n      const lineParam = parameters[LINE_FILTER];\n      const routeParam = parameters[ROUTE_FILTER];\n      const opParam = parameters[OPERATOR_FILTER];\n\n      if (lineParam || routeParam || opParam || this.regexPublishedLineName) {\n        console.log(TrajservLayerMixin, TrajservLayerMixin.createFilter);\n        this.filter = this.createFilter(\n          lineParam ? lineParam.split(',') : undefined,\n          routeParam ? routeParam.split(',') : undefined,\n          opParam ? opParam.split(',') : undefined,\n          this.regexPublishedLineName,\n        );\n      } else {\n        this.filter = null;\n      }\n    }\n\n    abortFetchTrajectories() {\n      if (this.abortController) {\n        this.abortController.abort();\n      }\n    }\n\n    updateTrajectoryStations(trajId) {\n      const params = this.getParams({\n        id: trajId,\n        time: getUTCTimeString(new Date()),\n      });\n      return this.api.fetchTrajectoryStations(params);\n    }\n\n    getParams(extraParams = {}) {\n      const intervalMs = this.speed * 20000; // 20 seconds, arbitrary value, could be : (this.requestIntervalSeconds + 1) * 1000;\n      const now = this.currTime;\n\n      let diff = true;\n\n      if (\n        this.later &&\n        now.getTime() > this.later.getTime() - 3000 * this.speed\n      ) {\n        diff = false;\n      }\n      if (\n        !this.later ||\n        !diff ||\n        this.later.getTime() - now.getTime() > intervalMs\n      ) {\n        const later = new Date(now.getTime() + intervalMs);\n        this.later = later;\n      }\n\n      const params = {\n        ...extraParams,\n        btime: getUTCTimeString(now),\n        etime: getUTCTimeString(this.later),\n        date: getDateString(now),\n        rid: 1,\n        a: 1,\n        cd: 1,\n        nm: 1,\n        fl: 1,\n        // toff: this.currTime.getTime() / 1000,\n      };\n\n      // Allow to load only differences between the last request,\n      // but currently the Tracker render method doesn't manage to render only diff.\n      /* if (diff) {\n      // Not working\n      params.diff = this.lastRequestTime;\n    } */\n      return params;\n    }\n\n    startUpdateTrajectories() {\n      this.stopUpdateTrajectories();\n\n      this.updateTrajectories();\n      this.updateInterval = window.setInterval(() => {\n        this.updateTrajectories();\n      }, this.requestIntervalSeconds * 1000);\n    }\n\n    stopUpdateTrajectories() {\n      clearInterval(this.updateInterval);\n    }\n\n    updateTrajectories() {\n      this.abortFetchTrajectories();\n      this.abortController = new AbortController();\n      this.api\n        .fetchTrajectories(\n          this.getParams({\n            attr_det: 1,\n          }),\n          this.abortController,\n        )\n        .then((trajectories) => {\n          this.tracker.setTrajectories(trajectories);\n        });\n    }\n\n    defaultStyle(props, zoom) {\n      const { type, name, id, color, textColor, delay, cancelled } = props;\n      const z = Math.min(Math.floor(zoom || 1), 16);\n      const hover = this.tracker.hoverVehicleId === id;\n      const selected = this.selectedVehicleId === id;\n      const key = `${z}${type}${name}${delay}${hover}${selected}`;\n\n      if (!this.styleCache[key]) {\n        let radius = getRadius(type, z);\n\n        if (hover || selected) {\n          radius += 5;\n        }\n        const margin = 1;\n        const radiusDelay = radius + 2;\n        const origin = radiusDelay + margin;\n\n        const canvas = document.createElement('canvas');\n        canvas.width = radiusDelay * 2 + margin * 2 + 100;\n        canvas.height = radiusDelay * 2 + margin * 2;\n        const ctx = canvas.getContext('2d');\n\n        if (delay !== null) {\n          // Draw delay background\n          ctx.save();\n          ctx.beginPath();\n          ctx.arc(origin, origin, radiusDelay, 0, 2 * Math.PI, false);\n          ctx.fillStyle = getDelayColor(delay, cancelled);\n          ctx.filter = 'blur(1px)';\n          ctx.fill();\n          ctx.restore();\n        }\n\n        // Show delay if feature is hovered or if delay is above 5mins.\n        if (hover || delay >= this.delayDisplay) {\n          // Draw delay text\n          ctx.save();\n          ctx.textAlign = 'left';\n          ctx.textBaseline = 'middle';\n          ctx.font = `bold ${Math.max(\n            14,\n            Math.min(17, radius * 1.2),\n          )}px arial, sans-serif`;\n          ctx.fillStyle = getDelayColor(delay, cancelled);\n\n          ctx.strokeStyle = this.delayOutlineColor;\n          ctx.lineWidth = 1.5;\n          ctx.strokeText(getDelayText(delay, cancelled), origin * 2, origin);\n          ctx.fillText(getDelayText(delay, cancelled), origin * 2, origin);\n          ctx.restore();\n        }\n\n        ctx.beginPath();\n        ctx.arc(origin, origin, radius, 0, 2 * Math.PI, false);\n        if (!this.useDelayStyle) {\n          ctx.fillStyle = color || getBgColor(type);\n          ctx.fill();\n        } else {\n          ctx.fillStyle = getDelayColor(delay, cancelled);\n          ctx.fill();\n        }\n\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = '#000000';\n        ctx.stroke();\n\n        const markerSize = radius * 2;\n        if (radius > 10) {\n          const shortname =\n            type === 'Rail' && name.length > 3 ? name.substring(0, 2) : name;\n          const fontSize = Math.max(radius, 10);\n          const textSize = getTextSize(ctx, markerSize, shortname, fontSize);\n\n          ctx.textBaseline = 'middle';\n          ctx.textAlign = 'center';\n          ctx.fillStyle = !this.useDelayStyle\n            ? textColor || getTextColor(type)\n            : '#000000';\n          ctx.font = `bold ${textSize}px Arial`;\n          ctx.fillText(shortname, origin, origin);\n        }\n        this.styleCache[key] = canvas;\n      }\n\n      return this.styleCache[key];\n    }\n  };\n\nexport default TrajservLayerMixin;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/common/mixins/TrajservLayerMixin.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 139,
    "kind": "class",
    "name": "TrajservLayerInterface",
    "memberof": "src/common/mixins/TrajservLayerMixin.js",
    "static": true,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/mixins/TrajservLayerMixin.js",
    "importStyle": "{TrajservLayerInterface}",
    "description": "TrajservLayerInterface.",
    "lineNumber": 30,
    "unknown": [
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} isTrackerLayer - Property for duck typing since `instanceof` is not working when the instance was created on different bundles."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{boolean} isHoverActive - Activate/deactivate pointer hover effect."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{function} style - Style of the vehicle."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{FilterFunction} filter - Time speed."
      },
      {
        "tagName": "@classproperty",
        "tagValue": "{function} sort - Set the filter for tracker features."
      }
    ],
    "interface": false,
    "extends": [
      "TrackerLayerInterface"
    ]
  },
  {
    "__docId__": 140,
    "kind": "method",
    "name": "init",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#init",
    "access": "public",
    "description": "Initialize the layer and listen to feature clicks.",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol/Map~Map",
          "mapboxgl.Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "A map."
      }
    ],
    "override": true,
    "return": null
  },
  {
    "__docId__": 141,
    "kind": "method",
    "name": "start",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#start",
    "access": "public",
    "description": "Start to update trajectories and initialize the filter.",
    "lineNumber": 42,
    "override": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 142,
    "kind": "method",
    "name": "stop",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#stop",
    "access": "public",
    "description": "Stop to update trajectories.",
    "lineNumber": 48,
    "override": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 143,
    "kind": "method",
    "name": "addTrackerFilters",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#addTrackerFilters",
    "access": "private",
    "description": "Set the tracker filter property using class properties.",
    "lineNumber": 54,
    "params": [],
    "return": null
  },
  {
    "__docId__": 144,
    "kind": "method",
    "name": "abortFetchTrajectories",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#abortFetchTrajectories",
    "access": "private",
    "description": "Abort http requests.",
    "lineNumber": 61,
    "params": [],
    "return": null
  },
  {
    "__docId__": 145,
    "kind": "method",
    "name": "updateTrajectoryStations",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#updateTrajectoryStations",
    "access": "private",
    "description": "Fetch stations information with a trajectory id.",
    "lineNumber": 68,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "trajId",
        "description": "The id of the trajectory."
      }
    ],
    "return": null
  },
  {
    "__docId__": 146,
    "kind": "method",
    "name": "getParams",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#getParams",
    "access": "private",
    "description": "Returns the URL parameters.",
    "lineNumber": 76,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "extraParams",
        "description": "Extra parameters"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 147,
    "kind": "method",
    "name": "startUpdateTrajectories",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#startUpdateTrajectories",
    "access": "private",
    "description": "Start the update of trajectories.",
    "lineNumber": 82,
    "params": [],
    "return": null
  },
  {
    "__docId__": 148,
    "kind": "method",
    "name": "stopUpdateTrajectories",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#stopUpdateTrajectories",
    "access": "private",
    "description": "Stop the update of trajectories.",
    "lineNumber": 88,
    "params": [],
    "return": null
  },
  {
    "__docId__": 149,
    "kind": "method",
    "name": "updateTrajectories",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#updateTrajectories",
    "access": "private",
    "description": "Update the trajectories",
    "lineNumber": 94,
    "params": [],
    "return": null
  },
  {
    "__docId__": 150,
    "kind": "method",
    "name": "defaultStyle",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#defaultStyle",
    "access": "private",
    "description": "Define the style of the vehicle.\nDraw a colored circle depending on train delay.",
    "lineNumber": 103,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "props",
        "description": "Properties"
      }
    ],
    "return": null
  },
  {
    "__docId__": 151,
    "kind": "variable",
    "name": "LINE_FILTER",
    "memberof": "src/common/mixins/TrajservLayerMixin.js",
    "static": true,
    "longname": "src/common/mixins/TrajservLayerMixin.js~LINE_FILTER",
    "access": "public",
    "export": false,
    "importPath": "mobility-toolbox-js/src/common/mixins/TrajservLayerMixin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 106,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 152,
    "kind": "variable",
    "name": "ROUTE_FILTER",
    "memberof": "src/common/mixins/TrajservLayerMixin.js",
    "static": true,
    "longname": "src/common/mixins/TrajservLayerMixin.js~ROUTE_FILTER",
    "access": "public",
    "export": false,
    "importPath": "mobility-toolbox-js/src/common/mixins/TrajservLayerMixin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 107,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 153,
    "kind": "variable",
    "name": "OPERATOR_FILTER",
    "memberof": "src/common/mixins/TrajservLayerMixin.js",
    "static": true,
    "longname": "src/common/mixins/TrajservLayerMixin.js~OPERATOR_FILTER",
    "access": "public",
    "export": false,
    "importPath": "mobility-toolbox-js/src/common/mixins/TrajservLayerMixin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 108,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 154,
    "kind": "function",
    "name": "TrajservLayerMixin",
    "memberof": "src/common/mixins/TrajservLayerMixin.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerMixin",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/mixins/TrajservLayerMixin.js",
    "importStyle": "TrajservLayerMixin",
    "description": "Mixin for TrajservLayerInterface.",
    "lineNumber": 116,
    "params": [
      {
        "nullable": null,
        "types": [
          "TrackerLayer"
        ],
        "spread": false,
        "optional": false,
        "name": "TrackerLayer",
        "description": "A {TrackerLayer} class to extend with {TrajservLayerInterface} functionnalities."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Class"
      ],
      "spread": false,
      "description": "A class that implements {TrajservLayerInterface} class and extends Base;"
    }
  },
  {
    "__docId__": 155,
    "kind": "file",
    "name": "src/common/trackerConfig.js",
    "content": "const trackerRadiusMapping = {\n  0: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],\n  1: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],\n  2: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 9, 12.5, 14, 15, 15, 15, 15],\n  3: [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],\n  4: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],\n  5: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],\n  6: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],\n  7: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],\n  8: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7],\n  9: [5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 9, 12.5, 14, 15, 15, 15, 15],\n};\n\n/**\n * @ignore\n */\nexport const types = [\n  'Tram',\n  'Subway / Metro / S-Bahn',\n  'Train',\n  'Bus',\n  'Ferry',\n  'Cable Car',\n  'Gondola',\n  'Funicular',\n  'Long distance bus',\n  'Rail', // New endpoint use Rail instead of Train.\n];\n\n/**\n * @ignore\n */\nexport const bgColors = [\n  '#ffb400',\n  '#ff5400',\n  '#ff8080',\n  '#ea0000',\n  '#3000ff',\n  '#ffb400',\n  '#41a27b',\n  '#00d237',\n  '#b5b5b5',\n  '#ff8080',\n];\n\n/**\n * @ignore\n */\nexport const textColors = [\n  '#000000',\n  '#ffffff',\n  '#000000',\n  '#ffffff',\n  '#ffffff',\n  '#000000',\n  '#ffffff',\n  '#000000',\n  '#000000',\n  '#000000',\n];\n\n/**\n * @ignore\n */\nexport const timeSteps = [\n  100000,\n  50000,\n  40000,\n  30000,\n  20000,\n  15000,\n  10000,\n  5000,\n  2000,\n  1000,\n  400,\n  300,\n  250,\n  180,\n  90,\n  60,\n  50,\n  50,\n  50,\n  50,\n  50,\n];\n\n/**\n * @ignore\n */\nconst getTypeIndex = (type) => {\n  if (typeof type === 'string') {\n    const matched = types.find((t) => new RegExp(type).test(t));\n    return types.indexOf(matched);\n  }\n  return type;\n};\n\n/**\n * @ignore\n */\nexport const getRadius = (type = 0, zoom) => {\n  try {\n    const typeIdx = getTypeIndex(type);\n    return trackerRadiusMapping[typeIdx][zoom];\n  } catch (e) {\n    return 1;\n  }\n};\n\n/**\n * @ignore\n */\nexport const getBgColor = (type = 0) => {\n  try {\n    const typeIdx = getTypeIndex(type);\n    return bgColors[typeIdx];\n  } catch (e) {\n    return 1;\n  }\n};\n\n/**\n * @ignore\n */\nexport const getTextColor = (type = 0) => {\n  try {\n    const typeIdx = getTypeIndex(type);\n    return textColors[typeIdx];\n  } catch (e) {\n    return 1;\n  }\n};\n\n/**\n * @ignore\n */\nexport const getTextSize = (ctx, markerSize, text, fontSize) => {\n  ctx.font = `bold ${fontSize}px Arial`;\n  let newText = ctx.measureText(text);\n\n  const maxiter = 15;\n  let i = 0;\n\n  while (newText.width > markerSize - 6 && i < maxiter) {\n    // eslint-disable-next-line no-param-reassign\n    fontSize -= 0.5;\n    ctx.font = `bold ${fontSize}px arial, sans-serif`;\n    newText = ctx.measureText(text);\n    i += 1;\n  }\n  return fontSize;\n};\n\n/**\n * @ignore\n */\nexport const getDelayColor = (delayInMs, cancelled) => {\n  if (cancelled) {\n    return '#ff0000';\n  }\n  if (delayInMs >= 3600000) {\n    return '#ed004c'; // pink { r: 237, g: 0, b: 76, s: '237,0,76' };\n  }\n  if (delayInMs >= 500000) {\n    return '#e80000'; // red { r: 232, g: 0, b: 0, s: '232,0,0' };\n  }\n  if (delayInMs >= 300000) {\n    return '#ff4a00'; // orange { r: 255, g: 74, b: 0, s: '255,74,0' };\n  }\n  if (delayInMs >= 180000) {\n    return '#f7bf00'; // yellow { r: 247, g: 191, b: 0, s: '247,191,0' };\n  }\n  if (delayInMs === null) {\n    return '#a0a0a0'; // grey { r: 160, g: 160, b: 160, s: '160,160,160' };\n  }\n  return '#00a00c'; // green { r: 0, g: 160, b: 12, s: '0,160,12' };\n};\n\n/**\n * @ignore\n */\nexport const getDelayText = (delayInMs, cancelled) => {\n  if (cancelled) {\n    return String.fromCharCode(10006);\n  }\n  if (delayInMs > 3600000) {\n    const rounded = Math.round(delayInMs / 3600000);\n    return `+${rounded}h`;\n  }\n\n  if (delayInMs > 59000) {\n    const rounded = Math.round(delayInMs / 60000);\n    return `+${rounded}m`;\n  }\n\n  if (delayInMs > 0) {\n    return `+${delayInMs}s`;\n  }\n\n  return '';\n};\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/common/trackerConfig.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 156,
    "kind": "variable",
    "name": "trackerRadiusMapping",
    "memberof": "src/common/trackerConfig.js",
    "static": true,
    "longname": "src/common/trackerConfig.js~trackerRadiusMapping",
    "access": "public",
    "export": false,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "{\"0\": *, \"1\": *, \"2\": *, \"3\": *, \"4\": *, \"5\": *, \"6\": *, \"7\": *, \"8\": *, \"9\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 157,
    "kind": "variable",
    "name": "types",
    "memberof": "src/common/trackerConfig.js",
    "static": true,
    "longname": "src/common/trackerConfig.js~types",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{types}",
    "description": "",
    "lineNumber": 17,
    "ignore": true,
    "type": {
      "types": [
        "string[]"
      ]
    }
  },
  {
    "__docId__": 158,
    "kind": "variable",
    "name": "bgColors",
    "memberof": "src/common/trackerConfig.js",
    "static": true,
    "longname": "src/common/trackerConfig.js~bgColors",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{bgColors}",
    "description": "",
    "lineNumber": 33,
    "ignore": true,
    "type": {
      "types": [
        "string[]"
      ]
    }
  },
  {
    "__docId__": 159,
    "kind": "variable",
    "name": "textColors",
    "memberof": "src/common/trackerConfig.js",
    "static": true,
    "longname": "src/common/trackerConfig.js~textColors",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{textColors}",
    "description": "",
    "lineNumber": 49,
    "ignore": true,
    "type": {
      "types": [
        "string[]"
      ]
    }
  },
  {
    "__docId__": 160,
    "kind": "variable",
    "name": "timeSteps",
    "memberof": "src/common/trackerConfig.js",
    "static": true,
    "longname": "src/common/trackerConfig.js~timeSteps",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{timeSteps}",
    "description": "",
    "lineNumber": 65,
    "ignore": true,
    "type": {
      "types": [
        "number[]"
      ]
    }
  },
  {
    "__docId__": 161,
    "kind": "function",
    "name": "getTypeIndex",
    "memberof": "src/common/trackerConfig.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/trackerConfig.js~getTypeIndex",
    "access": "public",
    "export": false,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": null,
    "description": "",
    "lineNumber": 92,
    "ignore": true,
    "params": [
      {
        "name": "type",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 162,
    "kind": "function",
    "name": "getRadius",
    "memberof": "src/common/trackerConfig.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/trackerConfig.js~getRadius",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{getRadius}",
    "description": "",
    "lineNumber": 103,
    "ignore": true,
    "params": [
      {
        "name": "type",
        "optional": true,
        "types": [
          "number"
        ],
        "defaultRaw": 0,
        "defaultValue": "0"
      },
      {
        "name": "zoom",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 163,
    "kind": "function",
    "name": "getBgColor",
    "memberof": "src/common/trackerConfig.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/trackerConfig.js~getBgColor",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{getBgColor}",
    "description": "",
    "lineNumber": 115,
    "ignore": true,
    "params": [
      {
        "name": "type",
        "optional": true,
        "types": [
          "number"
        ],
        "defaultRaw": 0,
        "defaultValue": "0"
      }
    ],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 164,
    "kind": "function",
    "name": "getTextColor",
    "memberof": "src/common/trackerConfig.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/trackerConfig.js~getTextColor",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{getTextColor}",
    "description": "",
    "lineNumber": 127,
    "ignore": true,
    "params": [
      {
        "name": "type",
        "optional": true,
        "types": [
          "number"
        ],
        "defaultRaw": 0,
        "defaultValue": "0"
      }
    ],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 165,
    "kind": "function",
    "name": "getTextSize",
    "memberof": "src/common/trackerConfig.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/trackerConfig.js~getTextSize",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{getTextSize}",
    "description": "",
    "lineNumber": 139,
    "ignore": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      },
      {
        "name": "markerSize",
        "types": [
          "*"
        ]
      },
      {
        "name": "text",
        "types": [
          "*"
        ]
      },
      {
        "name": "fontSize",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 166,
    "kind": "function",
    "name": "getDelayColor",
    "memberof": "src/common/trackerConfig.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/trackerConfig.js~getDelayColor",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{getDelayColor}",
    "description": "",
    "lineNumber": 159,
    "ignore": true,
    "params": [
      {
        "name": "delayInMs",
        "types": [
          "*"
        ]
      },
      {
        "name": "cancelled",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 167,
    "kind": "function",
    "name": "getDelayText",
    "memberof": "src/common/trackerConfig.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/common/trackerConfig.js~getDelayText",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/common/trackerConfig.js",
    "importStyle": "{getDelayText}",
    "description": "",
    "lineNumber": 184,
    "ignore": true,
    "params": [
      {
        "name": "delayInMs",
        "types": [
          "*"
        ]
      },
      {
        "name": "cancelled",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 168,
    "kind": "file",
    "name": "src/common/typedefs.js",
    "content": "/**\n * @typedef {function} FilterFunction\n * @param {Object} vehicle Vehicle to filter.\n */\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/common/typedefs.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 169,
    "kind": "typedef",
    "name": "FilterFunction",
    "memberof": "src/common/typedefs.js",
    "static": true,
    "longname": "src/common/typedefs.js~FilterFunction",
    "access": "public",
    "description": "",
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "vehicle",
        "description": "Vehicle to filter."
      }
    ],
    "type": {
      "types": [
        "function"
      ],
      "optional": false,
      "name": "FilterFunction"
    }
  },
  {
    "__docId__": 170,
    "kind": "file",
    "name": "src/index.js",
    "content": "import Map from './ol/Map';\nimport {\n  Layer as olLayer,\n  WMSLayer as olWMSLayer,\n  MapboxLayer as olMapboxLayer,\n  TrajservLayer as olTrajservLayer,\n  VectorLayer as olVectorLayer,\n} from './ol';\nimport { TrajservLayer as mbTrajservLayer } from './mapbox';\n\nconst exports = {\n  mapbox: {\n    TrajservLayer: mbTrajservLayer,\n  },\n  ol: {\n    Map,\n    Layer: olLayer,\n    WMSLayer: olWMSLayer,\n    MapboxLayer: olMapboxLayer,\n    TrajservLayer: olTrajservLayer,\n    VectorLayer: olVectorLayer,\n  },\n};\n\nexport default exports;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 171,
    "kind": "variable",
    "name": "exports",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~exports",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/index.js",
    "importStyle": "exports",
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "{\"mapbox\": *, \"ol\": *}"
      ]
    }
  },
  {
    "__docId__": 172,
    "kind": "file",
    "name": "src/mapbox/index.js",
    "content": "// eslint-disable-next-line import/prefer-default-export\nexport { default as TrajservLayer } from './layers/TrajservLayer';\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/mapbox/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 173,
    "kind": "file",
    "name": "src/mapbox/layers/TrackerLayer.js",
    "content": "import { toLonLat, fromLonLat } from 'ol/proj';\nimport Layer from '../../common/layers/Layer';\nimport mixin from '../../common/mixins/TrackerLayerMixin';\nimport { getResolution } from '../utils';\n\n/**\n * Responsible for loading tracker data.\n *\n * @extends {Layer}\n * @implements {TrackerLayerInterface}\n */\nclass TrackerLayer extends mixin(Layer) {\n  constructor(options = {}) {\n    super({\n      ...options,\n    });\n\n    /** @ignores */\n    this.onMapZoomEnd = this.onMapZoomEnd.bind(this);\n    /** @ignores */\n    this.onMapMouseMove = this.onMapMouseMove.bind(this);\n  }\n\n  /**\n   * Initialize the layer.\n   *\n   * @param {mapboxgl.Map} map A [mapbox Map](https://docs.mapbox.com/mapbox-gl-js/api/map/).\n   * @override\n   */\n  init(map) {\n    if (!map) {\n      return;\n    }\n    const { width, height } = map.getCanvas();\n\n    super.init(map, {\n      width,\n      height,\n      getPixelFromCoordinate: (coord) => {\n        const pixelRatio = window.devicePixelRatio || 1;\n        const [lng, lat] = toLonLat(coord);\n        const { x, y } = this.map.project({ lng, lat });\n        return [x * pixelRatio, y * pixelRatio];\n      },\n    });\n  }\n\n  /**\n   * Set the current time, it triggers a rendering of the trajectories.\n   *\n   * @param {Date} time  The current time.\n   */\n  setCurrTime(time) {\n    const canvas = this.map.getCanvas();\n    super.setCurrTime(\n      time,\n      [canvas.width, canvas.height],\n      getResolution(this.map),\n      !this.map.isMoving() && !this.map.isRotating() && !this.map.isZooming(),\n    );\n  }\n\n  /**\n   * Start updating vehicles position.\n   *\n   * @listens {mapboxgl.map.event:zoomend} Listen to zoom end event, see {@link TrackerLayer#onMapZoomEnd}.\n   * @listens {mapboxgl.map.event:mousemove} Listen to mousemove end, see {@link TrackerLayer#onMapMouseMove}.\n   * @param {mapboxgl.Map} map A [mapbox Map](https://docs.mapbox.com/mapbox-gl-js/api/map/).\n   * @override\n   */\n  start() {\n    const canvas = this.map.getCanvas();\n    super.start(\n      [canvas.width, canvas.height],\n      this.map.getZoom(),\n      getResolution(this.map),\n    );\n\n    this.map.on('zoomend', this.onMapZoomEnd);\n\n    if (this.isHoverActive) {\n      this.map.on('mousemove', this.onMapMouseMove);\n    }\n  }\n\n  /**\n   * Stop updating vehicles position, and unlisten events.\n   *\n   * @override\n   */\n  stop() {\n    super.stop();\n    if (this.map) {\n      this.map.off('zoomend', this.onMapZoomEnd);\n      this.map.off('mousemove', this.onMapMouseMove);\n    }\n  }\n\n  /**\n   * Returns an array of vehicles located at the given coordinate.\n   *\n   * @param {number[2]} coordinate\n   * @returns {Object[]} Array of vehicle.\n   * @override\n   */\n  getVehiclesAtCoordinate(coordinate) {\n    const resolution = getResolution(this.map);\n    return super.getVehiclesAtCoordinate(coordinate, resolution);\n  }\n\n  /**\n   * On zoomend we adjust the time interval of the update of vehicles positions.\n   *\n   * @private\n   */\n  onMapZoomEnd() {\n    this.startUpdateTime(this.map.getZoom());\n  }\n\n  /**\n   * On mousemove, we detect if a vehicle is heovered then updates the cursor's style.\n   *\n   * @param {mapboxgl.mapmouseevent} evt Map's mousemove event.\n   * @private\n   */\n  onMapMouseMove(evt) {\n    if (\n      this.map.isMoving() ||\n      this.map.isRotating() ||\n      this.map.isZooming() ||\n      !this.isHoverActive\n    ) {\n      this.map.getContainer().style.cursor = 'auto';\n      return;\n    }\n    const [vehicle] = this.getVehiclesAtCoordinate(\n      fromLonLat([evt.lngLat.lng, evt.lngLat.lat]),\n    );\n    this.map.getContainer().style.cursor = vehicle ? 'pointer' : 'auto';\n    this.tracker.setHoverVehicleId(vehicle && vehicle.id);\n  }\n}\n\nexport default TrackerLayer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/mapbox/layers/TrackerLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 174,
    "kind": "class",
    "name": "TrackerLayer",
    "memberof": "src/mapbox/layers/TrackerLayer.js",
    "static": true,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/mapbox/layers/TrackerLayer.js",
    "importStyle": "TrackerLayer",
    "description": "Responsible for loading tracker data.",
    "lineNumber": 12,
    "interface": false,
    "extends": [
      "Layer"
    ],
    "implements": [
      "TrackerLayerInterface"
    ]
  },
  {
    "__docId__": 175,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 178,
    "kind": "method",
    "name": "init",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#init",
    "access": "public",
    "description": "Initialize the layer.",
    "lineNumber": 30,
    "params": [
      {
        "nullable": null,
        "types": [
          "mapboxgl.Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "A [mapbox Map](https://docs.mapbox.com/mapbox-gl-js/api/map/)."
      }
    ],
    "override": true,
    "return": null
  },
  {
    "__docId__": 179,
    "kind": "method",
    "name": "setCurrTime",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#setCurrTime",
    "access": "public",
    "description": "Set the current time, it triggers a rendering of the trajectories.",
    "lineNumber": 53,
    "params": [
      {
        "nullable": null,
        "types": [
          "Date"
        ],
        "spread": false,
        "optional": false,
        "name": "time",
        "description": "The current time."
      }
    ],
    "return": null
  },
  {
    "__docId__": 180,
    "kind": "method",
    "name": "start",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#start",
    "access": "public",
    "description": "Start updating vehicles position.",
    "lineNumber": 71,
    "params": [
      {
        "nullable": null,
        "types": [
          "mapboxgl.Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "A [mapbox Map](https://docs.mapbox.com/mapbox-gl-js/api/map/)."
      }
    ],
    "override": true,
    "listens": [
      {
        "types": [
          "mapboxgl.map.event:zoomend"
        ],
        "description": "Listen to zoom end event, see {@link TrackerLayer#onMapZoomEnd}."
      },
      {
        "types": [
          "mapboxgl.map.event:mousemove"
        ],
        "description": "Listen to mousemove end, see {@link TrackerLayer#onMapMouseMove}."
      }
    ],
    "return": null
  },
  {
    "__docId__": 181,
    "kind": "method",
    "name": "stop",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#stop",
    "access": "public",
    "description": "Stop updating vehicles position, and unlisten events.",
    "lineNumber": 91,
    "override": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 182,
    "kind": "method",
    "name": "getVehiclesAtCoordinate",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#getVehiclesAtCoordinate",
    "access": "public",
    "description": "Returns an array of vehicles located at the given coordinate.",
    "lineNumber": 106,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object[]} Array of vehicle."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "number[2]"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object[]"
      ],
      "spread": false,
      "description": "Array of vehicle."
    },
    "override": true
  },
  {
    "__docId__": 183,
    "kind": "method",
    "name": "onMapZoomEnd",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#onMapZoomEnd",
    "access": "private",
    "description": "On zoomend we adjust the time interval of the update of vehicles positions.",
    "lineNumber": 116,
    "params": [],
    "return": null
  },
  {
    "__docId__": 184,
    "kind": "method",
    "name": "onMapMouseMove",
    "memberof": "src/mapbox/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrackerLayer.js~TrackerLayer#onMapMouseMove",
    "access": "private",
    "description": "On mousemove, we detect if a vehicle is heovered then updates the cursor's style.",
    "lineNumber": 126,
    "params": [
      {
        "nullable": null,
        "types": [
          "mapboxgl.mapmouseevent"
        ],
        "spread": false,
        "optional": false,
        "name": "evt",
        "description": "Map's mousemove event."
      }
    ],
    "return": null
  },
  {
    "__docId__": 185,
    "kind": "file",
    "name": "src/mapbox/layers/TrajservLayer.js",
    "content": "import { fromLonLat } from 'ol/proj';\n// import { LineString } from 'ol/geom';\nimport { buffer, getWidth } from 'ol/extent';\nimport TrackerLayer from './TrackerLayer';\nimport mixin from '../../common/mixins/TrajservLayerMixin';\nimport { getUTCTimeString } from '../../common/timeUtils';\nimport { getSourceCoordinates, getResolution } from '../utils';\n\n/**\n * Responsible for loading and display data from a Trajserv service.\n *\n * @example\n * import { TrajservLayer } from 'mobility-toolbox-js/src/mapbox';\n *\n * const layer = new TrajservLayer({\n *   url: 'https://api.geops.io/tracker/v1',\n *   apiKey: [yourApiKey],\n * });\n *\n * @see <a href=\"/api/class/src/api/trajserv/TrajservAPI%20js~TrajservAPI%20html\">TrajservAPI</a>\n * @see <a href=\"/examples/mapbox-tracker\">Mapbox tracker example</a>\n *\n * @extends {TrackerLayer}\n * @implements {TrajservLayerInterface}\n */\nclass TrajservLayer extends mixin(TrackerLayer) {\n  constructor(options = {}) {\n    super({ ...options });\n    this.onMapClick = this.onMapClick.bind(this);\n    this.onMove = this.onMove.bind(this);\n    this.onMoveEnd = this.onMoveEnd.bind(this);\n  }\n\n  /**\n   * Add the mapbox layer and source to the map.\n   *\n   * @param {mapboxgl.Map} map A Mapbox [Map](https://docs.mapbox.com/mapbox-gl-js/api/map/).\n   * @param {String} beforeLayerId\n   */\n\n  init(map, beforeLayerId) {\n    if (!map) {\n      return;\n    }\n\n    super.init(map);\n\n    const { width, height } = map.getCanvas();\n    this.tracker.canvas.width = width;\n    this.tracker.canvas.height = height;\n\n    const source = {\n      type: 'canvas',\n      canvas: this.tracker.canvas,\n      coordinates: getSourceCoordinates(map),\n      // Set to true if the canvas source is animated. If the canvas is static, animate should be set to false to improve performance.\n      animate: true,\n    };\n\n    const layer = {\n      id: this.key,\n      type: 'raster',\n      source: this.key,\n      paint: {\n        'raster-opacity': 1,\n        'raster-fade-duration': 0,\n        'raster-resampling': 'nearest', // important otherwise it looks blurry\n      },\n    };\n\n    map.addSource(this.key, source);\n    map.addLayer(layer, beforeLayerId);\n  }\n\n  /**\n   * Remove the mapbox layer and the mapbox source.\n   *\n   * @overide\n   */\n  terminate() {\n    if (this.map) {\n      this.map.removeSource(this.key);\n      this.map.removeLayer(this.key);\n    }\n    super.terminate();\n  }\n\n  start() {\n    if (!this.map) {\n      return;\n    }\n    super.start();\n    this.map.on('click', this.onMapClick);\n    this.map.on('move', this.onMove);\n    this.map.on('moveend', this.onMoveEnd);\n  }\n\n  stop() {\n    if (this.map) {\n      this.map.off('click', this.onClick);\n      this.map.off('move', this.onMove);\n      this.map.off('moveend', this.onMoveEnd);\n    }\n    super.stop();\n  }\n\n  /**\n   * Callback on 'move' event.\n   * @private\n   */\n  onMove() {\n    this.map.getSource(this.key).setCoordinates(getSourceCoordinates(this.map));\n\n    const { width, height } = this.map.getCanvas();\n    this.tracker.renderTrajectories(\n      this.currTime,\n      [width, height],\n      getResolution(this.map),\n    );\n  }\n\n  /**\n   * Callback on 'moveend' event.\n   * @private\n   */\n  onMoveEnd() {\n    this.updateTrajectories();\n    if (this.selectedVehicleId && this.journeyId) {\n      this.highlightTrajectory();\n    }\n  }\n\n  /**\n   * Callback on 'mouseclick' event.\n   * @private\n   */\n  onMapClick(evt) {\n    if (!this.clickCallbacks.length) {\n      return;\n    }\n\n    const [vehicle] = this.getVehiclesAtCoordinate(\n      fromLonLat([evt.lngLat.lng, evt.lngLat.lat]),\n    );\n\n    if (vehicle) {\n      this.selectedVehicleId = vehicle.id;\n      this.journeyId = vehicle.journeyIdentifier;\n      this.updateTrajectoryStations(this.selectedVehicleId).then(\n        (vehicleWithStations) => {\n          this.stationsCoords = [];\n          vehicleWithStations.stations.forEach((station) => {\n            this.stationsCoords.push(fromLonLat(station.coordinates));\n          });\n          this.clickCallbacks.forEach((callback) =>\n            callback(vehicleWithStations, this, evt),\n          );\n        },\n      );\n    } else {\n      this.selectedVehicleId = null;\n      this.clickCallbacks.forEach((callback) => callback(null, this, evt));\n    }\n  }\n\n  /**\n   * @override\n   */\n  getParams(extraParams = {}) {\n    const bounds = this.map.getBounds().toArray();\n    const southWest = fromLonLat(bounds[0]);\n    const northEast = fromLonLat(bounds[1]);\n    const ext = [...southWest, ...northEast];\n    const bbox = buffer(ext, getWidth(ext) / 10).join(',');\n    const zoom = this.map.getZoom();\n\n    return super.getParams({\n      ...extraParams,\n      bbox,\n      s: zoom < 10 ? 1 : 0,\n      z: zoom,\n    });\n  }\n\n  /**\n   * @override\n   */\n  defaultStyle(props) {\n    const zoom = this.map.getZoom();\n    return super.defaultStyle(props, zoom);\n  }\n\n  /**\n   * Draw the trajectory as a line with points for each stop.\n   * @param {Array} stationsCoords Array of station coordinates.\n   * @param {ol/geom/LineString~LineString|ol/geom/MultiLineString~MultiLineString} lineGeometry A LineString or a MultiLineString.\n   * @param {string} color The color of the line.\n   * @private\n   */\n  // eslint-disable-next-line no-unused-vars,class-methods-use-this\n  drawFullTrajectory(stationsCoords, lineGeometry, color) {\n    // eslint-disable-next-line no-console\n    console.log('to be implemented');\n    // Don't allow white lines, use red instead.\n    // const vehiculeColor = /#ffffff/i.test(color) ? '#ff0000' : color;\n    // const vectorSource = this.olLayer.getSource();\n    // vectorSource.clear();\n    // if (stationsCoords) {\n    //   const geometry = new MultiPoint(stationsCoords);\n    //   const aboveStationsFeature = new Feature(geometry);\n    //   aboveStationsFeature.setStyle(\n    //     new Style({\n    //       zIndex: 1,\n    //       image: new Circle({\n    //         radius: 5,\n    //         fill: new Fill({\n    //           color: '#000000',\n    //         }),\n    //       }),\n    //     }),\n    //   );\n    //   const belowStationsFeature = new Feature(geometry);\n    //   belowStationsFeature.setStyle(\n    //     new Style({\n    //       zIndex: 4,\n    //       image: new Circle({\n    //         radius: 4,\n    //         fill: new Fill({\n    //           color: this.useDelayStyle ? '#a0a0a0' : vehiculeColor,\n    //         }),\n    //       }),\n    //     }),\n    //   );\n    //   vectorSource.addFeatures([aboveStationsFeature, belowStationsFeature]);\n    // }\n    // const lineFeat = new Feature({\n    //   geometry: lineGeometry,\n    // });\n    // lineFeat.setStyle([\n    //   new Style({\n    //     zIndex: 2,\n    //     stroke: new Stroke({\n    //       color: '#000000',\n    //       width: 6,\n    //     }),\n    //   }),\n    //   new Style({\n    //     zIndex: 3,\n    //     stroke: new Stroke({\n    //       color: this.useDelayStyle ? '#a0a0a0' : vehiculeColor,\n    //       width: 4,\n    //     }),\n    //   }),\n    // ]);\n    // vectorSource.addFeature(lineFeat);\n  }\n\n  /**\n   * Highlight the trajectory of journey.\n   * @param {String} journeyId The id of the journey.\n   * @private\n   */\n  highlightTrajectory(journeyId) {\n    this.api\n      .fetchTrajectoryById({\n        id: journeyId,\n        time: getUTCTimeString(new Date()),\n      })\n      // .then((traj) => {\n      // const { p: multiLine, t, c } = traj;\n      // const lineCoords = [];\n      // multiLine.forEach((line) => {\n      //   line.forEach((point) => {\n      //     lineCoords.push([point.x, point.y]);\n      //   });\n      // });\n      // this.drawFullTrajectory(\n      //   this.stationsCoords,\n      //   new LineString(lineCoords),\n      //   c ? `#${c}` : getBgColor(t),\n      // );\n      // })\n      .catch(() => {\n        this.map.removeLayer('highlight-trajectory');\n      });\n  }\n}\n\nexport default TrajservLayer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/mapbox/layers/TrajservLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 186,
    "kind": "class",
    "name": "TrajservLayer",
    "memberof": "src/mapbox/layers/TrajservLayer.js",
    "static": true,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/mapbox/layers/TrajservLayer.js",
    "importStyle": "TrajservLayer",
    "description": "Responsible for loading and display data from a Trajserv service.",
    "examples": [
      "import { TrajservLayer } from 'mobility-toolbox-js/src/mapbox';\n\nconst layer = new TrajservLayer({\n  url: 'https://api.geops.io/tracker/v1',\n  apiKey: [yourApiKey],\n});"
    ],
    "see": [
      "<a href=\"/api/class/src/api/trajserv/TrajservAPI%20js~TrajservAPI%20html\">TrajservAPI</a>",
      "<a href=\"/examples/mapbox-tracker\">Mapbox tracker example</a>"
    ],
    "lineNumber": 26,
    "interface": false,
    "extends": [
      "TrackerLayer"
    ],
    "implements": [
      "TrajservLayerInterface"
    ]
  },
  {
    "__docId__": 187,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true
  },
  {
    "__docId__": 191,
    "kind": "method",
    "name": "init",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#init",
    "access": "public",
    "description": "Add the mapbox layer and source to the map.",
    "lineNumber": 41,
    "params": [
      {
        "nullable": null,
        "types": [
          "mapboxgl.Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "A Mapbox [Map](https://docs.mapbox.com/mapbox-gl-js/api/map/)."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "beforeLayerId",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 192,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#terminate",
    "access": "public",
    "description": "Remove the mapbox layer and the mapbox source.",
    "lineNumber": 80,
    "unknown": [
      {
        "tagName": "@overide",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": null
  },
  {
    "__docId__": 193,
    "kind": "method",
    "name": "start",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#start",
    "access": "public",
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 194,
    "kind": "method",
    "name": "stop",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#stop",
    "access": "public",
    "description": null,
    "lineNumber": 98,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 195,
    "kind": "method",
    "name": "onMove",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#onMove",
    "access": "private",
    "description": "Callback on 'move' event.",
    "lineNumber": 111,
    "params": [],
    "return": null
  },
  {
    "__docId__": 196,
    "kind": "method",
    "name": "onMoveEnd",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#onMoveEnd",
    "access": "private",
    "description": "Callback on 'moveend' event.",
    "lineNumber": 126,
    "params": [],
    "return": null
  },
  {
    "__docId__": 197,
    "kind": "method",
    "name": "onMapClick",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#onMapClick",
    "access": "private",
    "description": "Callback on 'mouseclick' event.",
    "lineNumber": 137,
    "params": [
      {
        "name": "evt",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 198,
    "kind": "member",
    "name": "selectedVehicleId",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#selectedVehicleId",
    "access": "public",
    "description": null,
    "lineNumber": 147,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 199,
    "kind": "member",
    "name": "journeyId",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#journeyId",
    "access": "public",
    "description": null,
    "lineNumber": 148,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 200,
    "kind": "member",
    "name": "stationsCoords",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#stationsCoords",
    "access": "public",
    "description": null,
    "lineNumber": 151,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 202,
    "kind": "method",
    "name": "getParams",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#getParams",
    "access": "public",
    "description": "",
    "lineNumber": 169,
    "override": true,
    "params": [
      {
        "name": "extraParams",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 203,
    "kind": "method",
    "name": "defaultStyle",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#defaultStyle",
    "access": "public",
    "description": "",
    "lineNumber": 188,
    "override": true,
    "params": [
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 204,
    "kind": "method",
    "name": "drawFullTrajectory",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#drawFullTrajectory",
    "access": "private",
    "description": "Draw the trajectory as a line with points for each stop.",
    "lineNumber": 201,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "stationsCoords",
        "description": "Array of station coordinates."
      },
      {
        "nullable": null,
        "types": [
          "ol/geom/LineString~LineString",
          "ol/geom/MultiLineString~MultiLineString"
        ],
        "spread": false,
        "optional": false,
        "name": "lineGeometry",
        "description": "A LineString or a MultiLineString."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "color",
        "description": "The color of the line."
      }
    ],
    "return": null
  },
  {
    "__docId__": 205,
    "kind": "method",
    "name": "highlightTrajectory",
    "memberof": "src/mapbox/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/layers/TrajservLayer.js~TrajservLayer#highlightTrajectory",
    "access": "private",
    "description": "Highlight the trajectory of journey.",
    "lineNumber": 263,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "journeyId",
        "description": "The id of the journey."
      }
    ],
    "return": null
  },
  {
    "__docId__": 206,
    "kind": "file",
    "name": "src/ol/Map.js",
    "content": "import OLMap from 'ol/Map';\nimport OLLayer from 'ol/layer/Layer';\nimport Layer from './layers/Layer';\n\n/**\n * An OpenLayers for handling {@link Layer|Layers}.\n * This class extends the OpenLayers class\n * {@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html|ol/Map}.\n *\n * @example\n * import { Map } from 'mobility-toolbox-js/src/ol';\n *\n * @class\n * @namespace\n * @param {Object} options Map options.\n * @param {Array.Layer} [options.layers] List of {@link Layer|Layers}.\n */\nclass Map extends OLMap {\n  constructor(options = {}) {\n    super({\n      ...options,\n      layers: (options.layers || []).map((l) =>\n        l instanceof OLLayer ? l : l.olLayer,\n      ),\n    });\n\n    this.mobilityLayers =\n      (options.layers || []).filter((l) => l instanceof Layer) || [];\n    this.mobilityLayers.forEach((l) => l.init(this));\n  }\n\n  /**\n   * Adds a {@link Layer} to the map.\n   * @param {Layer} The {@link Layer} to add.\n   */\n  addLayer(layer) {\n    if (!layer.init) {\n      super.addLayer(layer);\n    } else {\n      layer.init(this);\n    }\n\n    if (layer.olLayer) {\n      super.addLayer(layer.olLayer);\n    }\n\n    if (layer instanceof Layer) {\n      this.mobilityLayers.push(layer);\n    }\n  }\n\n  /**\n   * Returns a list of mobility layers.\n   * @returns {Layer} {@link Layer}.\n   */\n  getMobilityLayers() {\n    return this.mobilityLayers;\n  }\n\n  /**\n   * Removes a given layer from the map.\n   * @param {Layer} The {@link Layer} to remove.\n   * @returns The removed layer (or undefined if the layer was not found).\n   */\n  removeLayer(layer) {\n    if (layer instanceof Layer) {\n      layer.terminate();\n      this.mobilityLayers = this.mobilityLayers.filter((l) => l !== layer);\n    }\n    if (layer.olLayer) {\n      super.removeLayer(layer);\n    }\n  }\n}\n\nexport default Map;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/Map.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 207,
    "kind": "class",
    "name": "Map",
    "memberof": "src/ol/Map.js",
    "static": true,
    "longname": "src/ol/Map.js~Map",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/Map.js",
    "importStyle": "Map",
    "description": "An OpenLayers for handling {@link Layer|Layers}.\nThis class extends the OpenLayers class\n{@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html|ol/Map}.",
    "examples": [
      "import { Map } from 'mobility-toolbox-js/src/ol';"
    ],
    "lineNumber": 18,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": ""
      },
      {
        "tagName": "@namespace",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Map options."
      },
      {
        "nullable": null,
        "types": [
          "Array.Layer"
        ],
        "spread": false,
        "optional": true,
        "name": "options.layers",
        "description": "List of {@link Layer|Layers}."
      }
    ],
    "interface": false,
    "extends": [
      "ol/Map~OLMap"
    ]
  },
  {
    "__docId__": 208,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/Map.js~Map",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/Map.js~Map#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true
  },
  {
    "__docId__": 209,
    "kind": "member",
    "name": "mobilityLayers",
    "memberof": "src/ol/Map.js~Map",
    "static": false,
    "longname": "src/ol/Map.js~Map#mobilityLayers",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 210,
    "kind": "method",
    "name": "addLayer",
    "memberof": "src/ol/Map.js~Map",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/Map.js~Map#addLayer",
    "access": "public",
    "description": "Adds a {@link Layer} to the map.",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "The",
        "description": "{@link Layer} to add."
      }
    ],
    "return": null
  },
  {
    "__docId__": 211,
    "kind": "method",
    "name": "getMobilityLayers",
    "memberof": "src/ol/Map.js~Map",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/Map.js~Map#getMobilityLayers",
    "access": "public",
    "description": "Returns a list of mobility layers.",
    "lineNumber": 56,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Layer} {@link Layer}."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Layer"
      ],
      "spread": false,
      "description": "{@link Layer}."
    },
    "params": []
  },
  {
    "__docId__": 212,
    "kind": "method",
    "name": "removeLayer",
    "memberof": "src/ol/Map.js~Map",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/Map.js~Map#removeLayer",
    "access": "public",
    "description": "Removes a given layer from the map.",
    "lineNumber": 65,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "The removed layer (or undefined if the layer was not found)."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "The",
        "description": "{@link Layer} to remove."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "The removed layer (or undefined if the layer was not found)."
    }
  },
  {
    "__docId__": 214,
    "kind": "file",
    "name": "src/ol/index.js",
    "content": "export { default as Map } from './Map';\nexport { default as Layer } from './layers/Layer';\nexport { default as WMSLayer } from './layers/WMSLayer';\nexport { default as MapboxLayer } from './layers/MapboxLayer';\nexport { default as MapboxStyleLayer } from './layers/MapboxStyleLayer';\nexport { default as TrajservLayer } from './layers/TrajservLayer';\nexport { default as TrackerLayer } from './layers/TrackerLayer';\nexport { default as VectorLayer } from './layers/VectorLayer';\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 215,
    "kind": "file",
    "name": "src/ol/layers/Layer.js",
    "content": "import { unByKey } from 'ol/Observable';\nimport LayerCommon from '../../common/layers/Layer';\n\n/**\n * A class representing a layer to display on an OpenLayers map.\n *\n * @param {Object} options\n * @param {ol/Layer} options.olLayer The {@link https://openlayers.org/en/latest/apidoc/module-ol_layer_Layer-Layer.html ol/Layer} (required).\n * @param {string} [options.name=uuid()] Layer name. Default use a generated uuid.\n * @param {string} [options.key=uuid().toLowerCase()] Layer key, will use options.name.toLowerCase() if not specified.\n * @param {string} [options.copyright=undefined] Copyright-Statement.\n * @param {Array<Layer>} [options.children=[]] Sublayers.\n * @param {Object} [options.properties={}] Application-specific layer properties.\n * @param {boolean} [options.visible=true] If true this layer is the currently visible layer on the map.\n * @param {boolean} [options.isBaseLayer=false] If true this layer is a baseLayer.\n * @param {boolean} [options.isQueryable=undefined] If true feature information can be queried by the react-spatial LayerService. Default is undefined, but resulting to true if not strictly set to false.\n * @extends LayerCommon\n */\nclass Layer extends LayerCommon {\n  constructor(options) {\n    super(options);\n    if (this.olLayer) {\n      this.olLayer.setVisible(this.visible);\n    }\n  }\n\n  defineProperties(options) {\n    super.defineProperties(options);\n    Object.defineProperties(this, {\n      olLayer: { value: options.olLayer, writable: true },\n      olListenersKeys: {\n        value: [],\n      },\n    });\n  }\n\n  /**\n   * Initialize the layer and listen to feature clicks.\n   * @param {ol/Map~Map} map {@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}\n   */\n  init(map) {\n    super.init(map);\n  }\n\n  /**\n   * Terminate what was initialized in init function. Remove layer, events...\n   */\n  terminate() {\n    unByKey(this.olListenersKeys);\n    super.terminate();\n  }\n\n  /**\n   * Change the visibility of the layer\n   *\n   * @param {boolean} visible Defines the visibility of the layer\n   * @param {boolean} [stopPropagationDown]\n   * @param {boolean} [stopPropagationUp]\n   * @param {boolean} [stopPropagationSiblings]\n   */\n  setVisible(\n    visible,\n    stopPropagationDown = false,\n    stopPropagationUp = false,\n    stopPropagationSiblings = false,\n  ) {\n    if (visible === this.visible) {\n      return;\n    }\n\n    super.setVisible(\n      visible,\n      stopPropagationDown,\n      stopPropagationUp,\n      stopPropagationSiblings,\n    );\n\n    if (this.olLayer) {\n      this.olLayer.setVisible(this.visible);\n    }\n  }\n}\nexport default Layer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/layers/Layer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 216,
    "kind": "class",
    "name": "Layer",
    "memberof": "src/ol/layers/Layer.js",
    "static": true,
    "longname": "src/ol/layers/Layer.js~Layer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/layers/Layer.js",
    "importStyle": "Layer",
    "description": "A class representing a layer to display on an OpenLayers map.",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "ol/Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "options.olLayer",
        "description": "The {@link https://openlayers.org/en/latest/apidoc/module-ol_layer_Layer-Layer.html ol/Layer} (required)."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "uuid()",
        "defaultRaw": "uuid()",
        "name": "options.name",
        "description": "Layer name. Default use a generated uuid."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "uuid().toLowerCase()",
        "defaultRaw": "uuid().toLowerCase()",
        "name": "options.key",
        "description": "Layer key, will use options.name.toLowerCase() if not specified."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "undefined",
        "defaultRaw": "undefined",
        "name": "options.copyright",
        "description": "Copyright-Statement."
      },
      {
        "nullable": null,
        "types": [
          "Array<Layer>"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[]",
        "defaultRaw": [],
        "name": "options.children",
        "description": "Sublayers."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options.properties",
        "description": "Application-specific layer properties."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "options.visible",
        "description": "If true this layer is the currently visible layer on the map."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "options.isBaseLayer",
        "description": "If true this layer is a baseLayer."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "undefined",
        "defaultRaw": "undefined",
        "name": "options.isQueryable",
        "description": "If true feature information can be queried by the react-spatial LayerService. Default is undefined, but resulting to true if not strictly set to false."
      }
    ],
    "interface": false,
    "extends": [
      "*"
    ]
  },
  {
    "__docId__": 217,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/Layer.js~Layer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 218,
    "kind": "method",
    "name": "defineProperties",
    "memberof": "src/ol/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/Layer.js~Layer#defineProperties",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 219,
    "kind": "method",
    "name": "init",
    "memberof": "src/ol/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/Layer.js~Layer#init",
    "access": "public",
    "description": "Initialize the layer and listen to feature clicks.",
    "lineNumber": 41,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol/Map~Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}"
      }
    ],
    "return": null
  },
  {
    "__docId__": 220,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/ol/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/Layer.js~Layer#terminate",
    "access": "public",
    "description": "Terminate what was initialized in init function. Remove layer, events...",
    "lineNumber": 48,
    "params": [],
    "return": null
  },
  {
    "__docId__": 221,
    "kind": "method",
    "name": "setVisible",
    "memberof": "src/ol/layers/Layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/Layer.js~Layer#setVisible",
    "access": "public",
    "description": "Change the visibility of the layer",
    "lineNumber": 61,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "visible",
        "description": "Defines the visibility of the layer"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "stopPropagationDown",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "stopPropagationUp",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "stopPropagationSiblings",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 222,
    "kind": "file",
    "name": "src/ol/layers/MapboxLayer.js",
    "content": "/* eslint-disable no-underscore-dangle */\nimport { toLonLat } from 'ol/proj';\nimport mapboxgl from 'mapbox-gl';\nimport OLLayer from 'ol/layer/Layer';\nimport GeoJSON from 'ol/format/GeoJSON';\nimport Layer from './Layer';\n\nconst getCopyrightFromSources = (mbMap) => {\n  let copyrights = [];\n  const regex = /<[^>]*>[^>]*<\\/[^>]*>/g;\n  // Trick from Mapbox AttributionControl to know if the source is used.\n  const { sourceCaches } = mbMap.style;\n  Object.entries(sourceCaches).forEach(([, sourceCache]) => {\n    if (sourceCache.used) {\n      copyrights = copyrights.concat(\n        regex.exec(sourceCache.getSource().attribution),\n      );\n    }\n  });\n  return Array.from(\n    new Set(copyrights.filter((copyright) => !!copyright)),\n  ).join(', ');\n};\n\n/**\n * A class representing Mapboxlayer to display on BasicMap\n * @class\n * @inheritDoc\n * @param {Object} [options]\n */\nexport default class MapboxLayer extends Layer {\n  constructor(options = {}) {\n    const mbLayer = new OLLayer({\n      render: (frameState) => {\n        if (!this.mbMap) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Mapbox map doesn't exist.\");\n          return null;\n        }\n        let changed = false;\n        const canvas = this.mbMap.getCanvas();\n        const { viewState } = frameState;\n\n        const visible = this.olLayer.getVisible();\n        if (this.renderState.visible !== visible) {\n          canvas.style.display = visible ? 'block' : 'none';\n          this.renderState.visible = visible;\n          // Needed since mapbox-gl 1.9.0.\n          // Without you don't see others ol layers on top.\n          canvas.style.position = 'absolute';\n        }\n\n        const opacity = this.olLayer.getOpacity();\n        if (this.renderState.opacity !== opacity) {\n          canvas.style.opacity = opacity;\n          this.renderState.opacity = opacity;\n        }\n\n        // adjust view parameters in mapbox\n        const { rotation } = viewState;\n        if (rotation && this.renderState.rotation !== rotation) {\n          this.mbMap.rotateTo((-rotation * 180) / Math.PI, {\n            animate: false,\n          });\n          changed = true;\n          this.renderState.rotation = rotation;\n        }\n\n        if (\n          this.renderState.zoom !== viewState.zoom ||\n          this.renderState.center[0] !== viewState.center[0] ||\n          this.renderState.center[1] !== viewState.center[1]\n        ) {\n          this.mbMap.jumpTo({\n            center: toLonLat(viewState.center),\n            zoom: viewState.zoom - 1,\n            animate: false,\n          });\n          changed = true;\n          this.renderState.zoom = viewState.zoom;\n          this.renderState.center = viewState.center;\n        }\n\n        const size = this.map.getSize();\n        if (\n          this.renderState.size[0] !== size[0] ||\n          this.renderState.size[1] !== size[1]\n        ) {\n          changed = true;\n          this.renderState.size = size;\n        }\n\n        // cancel the scheduled update & trigger synchronous redraw\n        // see https://github.com/mapbox/mapbox-gl-js/issues/7893#issue-408992184\n        // NOTE: THIS MIGHT BREAK WHEN UPDATING MAPBOX\n        if (\n          this.mbMap &&\n          this.mbMap.style &&\n          this.mbMap.isStyleLoaded() &&\n          changed\n        ) {\n          try {\n            if (this.mbMap._frame) {\n              this.mbMap._frame.cancel();\n              this.mbMap._frame = null;\n            }\n            this.mbMap._render();\n          } catch (err) {\n            // ignore render errors because it's probably related to\n            // a render during an update of the style.\n            // eslint-disable-next-line no-console\n            console.warn(err);\n          }\n        }\n\n        return canvas;\n      },\n    });\n\n    super({\n      ...options,\n      olLayer: mbLayer,\n    });\n    this.options = options;\n    this.styleUrl = options.url;\n  }\n\n  /**\n   * Initialize the layer and listen to feature clicks.\n   * @param {ol.map} map {@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}\n   */\n  init(map) {\n    super.init(map);\n\n    if (!this.map || this.mbMap) {\n      return;\n    }\n\n    this.format = new GeoJSON({\n      featureProjection: this.map.getView().getProjection(),\n    });\n\n    if (this.map.getTargetElement()) {\n      this.loadMbMap();\n    }\n\n    this.olListenersKeys.push(\n      this.map.on('change:target', () => {\n        this.loadMbMap();\n      }),\n    );\n\n    this.olListenersKeys.push(\n      this.map.on('change:size', () => {\n        try {\n          if (this.mbMap) {\n            this.mbMap.resize();\n          }\n        } catch (err) {\n          // ignore render errors\n          // eslint-disable-next-line no-console\n          console.warn(err);\n        }\n      }),\n    );\n  }\n\n  /**\n   * Create the mapbox map.\n   */\n  loadMbMap() {\n    // If the map hasn't been resized, the center could be [NaN,NaN].\n    // We set default good value for the mapbox map, to avoid the app crashes.\n    let [x, y] = this.map.getView().getCenter();\n    if (!x || !y) {\n      x = 0;\n      y = 0;\n    }\n\n    try {\n      this.mbMap = new mapboxgl.Map({\n        style: this.styleUrl,\n        attributionControl: false,\n        boxZoom: false,\n        center: toLonLat([x, y]),\n        container: this.map.getTargetElement(),\n        interactive: false,\n        fadeDuration:\n          'fadeDuration' in this.options ? this.options.fadeDuration : 300,\n        // Needs to be true to able to export the canvas, but could lead to performance issue on mobile.\n        preserveDrawingBuffer: this.options.preserveDrawingBuffer || false,\n      });\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn('Failed creating mapbox map: ', err);\n    }\n\n    // Options the last render run did happen. If something changes\n    // we have to render again\n    this.renderState = {\n      center: [x, y],\n      zoom: null,\n      rotation: null,\n      visible: null,\n      opacity: null,\n      size: [0, 0],\n    };\n\n    this.mbMap.once('load', () => {\n      this.loaded = true;\n      if (!this.copyright) {\n        this.copyright = getCopyrightFromSources(this.mbMap);\n      }\n      this.dispatchEvent({\n        type: 'load',\n        target: this,\n      });\n    });\n\n    const mapboxCanvas = this.mbMap.getCanvas();\n    if (mapboxCanvas) {\n      // Set default tabIndex to -1, so we can't access the canvas via Tab nav.\n      mapboxCanvas.setAttribute('tabindex', this.options.tabIndex || -1);\n    }\n  }\n\n  /**\n   * Request feature information for a given coordinate.\n   * @param {ol.Coordinate} coordinate Coordinate to request the information at.\n   * @param {Object} options A mapbox {@link https://openlayers.org/en/latest/apidoc/module-ol_layer_Layer-Layer.html options object}.\n   * @returns {Promise<Object>} Promise with features, layer and coordinate\n   *  or null if no feature was hit.\n   */\n  getFeatureInfoAtCoordinate(coordinate, options) {\n    // Ignore the getFeatureInfo until the mapbox map is loaded\n    if (\n      !options ||\n      !this.format ||\n      !this.mbMap ||\n      !this.mbMap.isStyleLoaded()\n    ) {\n      return Promise.resolve({ coordinate, features: [], layer: this });\n    }\n\n    const pixel = coordinate && this.mbMap.project(toLonLat(coordinate));\n    // At this point we get GeoJSON Mapbox feature, we transform it to an Openlayers\n    // feature to be consistent with other layers.\n    const features = this.mbMap\n      .queryRenderedFeatures(pixel, options)\n      .map((feature) => this.format.readFeature(feature));\n\n    return Promise.resolve({\n      layer: this,\n      features,\n      coordinate,\n    });\n  }\n\n  /**\n   * Terminate what was initialized in init function. Remove layer, events...\n   */\n  terminate() {\n    if (this.mbMap) {\n      // Some asynchrone repaints are triggered even if the mbMap has been removed,\n      // to avoid display of errors we set an empty function.\n      this.mbMap.triggerRepaint = () => {};\n      this.mbMap.remove();\n      this.mbMap = null;\n    }\n    this.loaded = false;\n    super.terminate();\n  }\n\n  /**\n   * Create exact copy of the MapboxLayer\n   * @returns {MapboxLayer} MapboxLayer\n   */\n  clone() {\n    return new MapboxLayer({ ...this.options, url: this.styleUrl });\n  }\n}\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/layers/MapboxLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 223,
    "kind": "function",
    "name": "getCopyrightFromSources",
    "memberof": "src/ol/layers/MapboxLayer.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ol/layers/MapboxLayer.js~getCopyrightFromSources",
    "access": "public",
    "export": false,
    "importPath": "mobility-toolbox-js/src/ol/layers/MapboxLayer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "mbMap",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 224,
    "kind": "class",
    "name": "MapboxLayer",
    "memberof": "src/ol/layers/MapboxLayer.js",
    "static": true,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/layers/MapboxLayer.js",
    "importStyle": "MapboxLayer",
    "description": "A class representing Mapboxlayer to display on BasicMap",
    "lineNumber": 31,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": ""
      },
      {
        "tagName": "@inheritDoc",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": ""
      }
    ],
    "interface": false,
    "extends": [
      "src/ol/layers/Layer.js~Layer"
    ]
  },
  {
    "__docId__": 225,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 32,
    "undocument": true
  },
  {
    "__docId__": 226,
    "kind": "member",
    "name": "options",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#options",
    "access": "public",
    "description": null,
    "lineNumber": 124,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 227,
    "kind": "member",
    "name": "styleUrl",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#styleUrl",
    "access": "public",
    "description": null,
    "lineNumber": 125,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 228,
    "kind": "method",
    "name": "init",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#init",
    "access": "public",
    "description": "Initialize the layer and listen to feature clicks.",
    "lineNumber": 132,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}"
      }
    ],
    "return": null
  },
  {
    "__docId__": 229,
    "kind": "member",
    "name": "format",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#format",
    "access": "public",
    "description": null,
    "lineNumber": 139,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 230,
    "kind": "method",
    "name": "loadMbMap",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#loadMbMap",
    "access": "public",
    "description": "Create the mapbox map.",
    "lineNumber": 171,
    "params": [],
    "return": null
  },
  {
    "__docId__": 231,
    "kind": "member",
    "name": "mbMap",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#mbMap",
    "access": "public",
    "description": null,
    "lineNumber": 181,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 232,
    "kind": "member",
    "name": "renderState",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#renderState",
    "access": "public",
    "description": null,
    "lineNumber": 200,
    "undocument": true,
    "type": {
      "types": [
        "{\"center\": *, \"zoom\": *, \"rotation\": *, \"visible\": *, \"opacity\": *, \"size\": *}"
      ]
    }
  },
  {
    "__docId__": 233,
    "kind": "member",
    "name": "loaded",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#loaded",
    "access": "public",
    "description": null,
    "lineNumber": 210,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 234,
    "kind": "member",
    "name": "copyright",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#copyright",
    "access": "public",
    "description": null,
    "lineNumber": 212,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 235,
    "kind": "method",
    "name": "getFeatureInfoAtCoordinate",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#getFeatureInfoAtCoordinate",
    "access": "public",
    "description": "Request feature information for a given coordinate.",
    "lineNumber": 234,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>} Promise with features, layer and coordinate\n or null if no feature was hit."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.Coordinate"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": "Coordinate to request the information at."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "A mapbox {@link https://openlayers.org/en/latest/apidoc/module-ol_layer_Layer-Layer.html options object}."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": "Promise with features, layer and coordinate\n or null if no feature was hit."
    }
  },
  {
    "__docId__": 236,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#terminate",
    "access": "public",
    "description": "Terminate what was initialized in init function. Remove layer, events...",
    "lineNumber": 262,
    "params": [],
    "return": null
  },
  {
    "__docId__": 239,
    "kind": "method",
    "name": "clone",
    "memberof": "src/ol/layers/MapboxLayer.js~MapboxLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxLayer.js~MapboxLayer#clone",
    "access": "public",
    "description": "Create exact copy of the MapboxLayer",
    "lineNumber": 278,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{MapboxLayer} MapboxLayer"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "MapboxLayer"
      ],
      "spread": false,
      "description": "MapboxLayer"
    },
    "params": []
  },
  {
    "__docId__": 240,
    "kind": "file",
    "name": "src/ol/layers/MapboxStyleLayer.js",
    "content": "/* eslint-disable no-param-reassign */\nimport Layer from './Layer';\n\n/**\n * Apply visibility to style layers that fits the filter function.\n * @private\n */\nconst applyLayoutVisibility = (mbMap, visible, filterFunc) => {\n  const style = mbMap.getStyle();\n\n  if (!mbMap || !style) {\n    return;\n  }\n\n  if (filterFunc) {\n    const visibilityValue = visible ? 'visible' : 'none';\n    for (let i = 0; i < style.layers.length; i += 1) {\n      const styleLayer = style.layers[i];\n      if (filterFunc(styleLayer)) {\n        if (mbMap.getLayer(styleLayer.id)) {\n          mbMap.setLayoutProperty(styleLayer.id, 'visibility', visibilityValue);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Layer for visualizing a specific set of layer from a MapboxLayer.\n * @class\n *\n * @example\n * import { MapboxStyleLayer } from 'mobility-toolbox-js/src/ol';\n *\n * @param {Object} [options] Layer options.\n * @inheritdoc\n */\nclass MapboxStyleLayer extends Layer {\n  constructor(options = {}) {\n    super(options);\n    this.options = options;\n    this.mapboxLayer = options.mapboxLayer;\n    this.styleLayersFilter = options.styleLayersFilter;\n    this.featureInfoFilter = options.featureInfoFilter || ((obj) => obj);\n    this.queryRenderedLayersFilter = options.queryRenderedLayersFilter;\n    this.highlightedFeatures = [];\n    this.selectedFeatures = [];\n    this.styleLayers =\n      (options.styleLayer ? [options.styleLayer] : options.styleLayers) || [];\n    this.addStyleLayers = this.addStyleLayers.bind(this);\n    this.onLoad = this.onLoad.bind(this);\n    if (options.filters) {\n      this.addDynamicFilters = () => {\n        this.setFilter(\n          typeof options.filters === 'function'\n            ? options.filters(this)\n            : options.filters,\n        );\n      };\n    }\n\n    if (!this.styleLayersFilter && this.styleLayers) {\n      const ids = this.styleLayers.map((s) => s.id);\n      this.styleLayersFilter = (styleLayer) => {\n        return ids.includes(styleLayer.id);\n      };\n    }\n  }\n\n  init(map) {\n    if (!this.mapboxLayer.map) {\n      this.mapboxLayer.init(map);\n      this.olLayer = this.mapboxLayer.olLayer;\n    }\n    super.init(map);\n\n    if (!this.map) {\n      return;\n    }\n\n    // Apply the initial visibiltity.\n    const { mbMap } = this.mapboxLayer;\n    if (!mbMap) {\n      // If the mbMap is not yet created because the  map has no target yet, we\n      // relaunch the initialisation when it's the case.\n      this.olListenersKeys.push(\n        this.map.on('change:target', () => {\n          this.init(map);\n        }),\n      );\n\n      return;\n    }\n\n    // mbMap.loaded() and mbMap.isStyleLoaded() are reliable only on the first call of init.\n    // On the next call (when a topic change for example), these functions returns false because\n    // the style is being modified.\n    // That's why we rely on a property instead for the next calls.\n    if (this.mapboxLayer.loaded || mbMap.isStyleLoaded() || mbMap.loaded()) {\n      this.onLoad();\n    } else {\n      mbMap.once('load', this.onLoad);\n    }\n\n    // Apply the visibiltity when layer's visibility change.\n    this.olListenersKeys.push(\n      this.on('change:visible', ({ target: layer }) => {\n        if (this.isMbMapLoaded) {\n          // Once the map is loaded we can apply vsiiblity without waiting\n          // the style. Mapbox take care of the application of style changes.\n          applyLayoutVisibility(mbMap, layer.visible, this.styleLayersFilter);\n        }\n      }),\n    );\n\n    this.olListenersKeys.push(\n      this.mapboxLayer.on('change:styleurl', () => {\n        this.addStyleLayers();\n        if (this.addDynamicFilters) {\n          this.addDynamicFilters();\n        }\n      }),\n      // this.addDynamicFilters &&\n      //   this.map.on('moveend', () => {\n      //     this.addDynamicFilters();\n      //   }),\n    );\n  }\n\n  terminate(map) {\n    const { mbMap } = this.mapboxLayer;\n    if (!mbMap) {\n      return;\n    }\n\n    mbMap.off('load', this.onLoad);\n    if (this.isMbMapLoaded) {\n      this.removeStyleLayers();\n    }\n    super.terminate(map);\n  }\n\n  addStyleLayers() {\n    const { mbMap } = this.mapboxLayer;\n    this.styleLayers.forEach((styleLayer) => {\n      const { id, source } = styleLayer;\n      if (mbMap.getSource(source) && !mbMap.getLayer(id)) {\n        mbMap.addLayer(styleLayer);\n      }\n    });\n    applyLayoutVisibility(mbMap, this.visible, this.styleLayersFilter);\n  }\n\n  removeStyleLayers() {\n    const { mbMap } = this.mapboxLayer;\n    this.styleLayers.forEach((styleLayer) => {\n      if (mbMap.getLayer(styleLayer.id)) {\n        mbMap.removeLayer(styleLayer.id);\n      }\n    });\n  }\n\n  onLoad() {\n    this.isMbMapLoaded = true;\n    this.addStyleLayers();\n\n    if (this.addDynamicFilters) {\n      this.addDynamicFilters();\n    }\n  }\n\n  /**\n   * Request feature information for a given coordinate.\n   * @param {ol.Coordinate} coordinate Coordinate to request the information at.\n   * @returns {Promise<Object>} Promise with features, layer and coordinate\n   *  or null if no feature was hit.\n   */\n  getFeatureInfoAtCoordinate(coordinate) {\n    const { mbMap } = this.mapboxLayer;\n    // Ignore the getFeatureInfo until the mapbox map is loaded\n    if (!mbMap || !mbMap.isStyleLoaded()) {\n      return Promise.resolve({ coordinate, features: [], layer: this });\n    }\n    return this.mapboxLayer\n      .getFeatureInfoAtCoordinate(coordinate, {\n        layers: (this.queryRenderedLayersFilter\n          ? mbMap.getStyle().layers.filter(this.queryRenderedLayersFilter)\n          : this.styleLayers\n        ).map((s) => s && s.id),\n        validate: false,\n      })\n      .then((featureInfo) => {\n        const features = featureInfo.features.filter((feature) => {\n          return this.featureInfoFilter(\n            feature,\n            this.map.getView().getResolution(),\n          );\n        });\n        this.highlight(features);\n        return { ...featureInfo, features, layer: this };\n      });\n  }\n\n  getFeatures2(resolve) {\n    resolve(this.getFeatures());\n  }\n\n  setFilter(filter) {\n    const { mbMap } = this.mapboxLayer;\n    this.styleLayers.forEach(({ id }) => {\n      if (mbMap.getLayer(id)) {\n        mbMap.setFilter(id, filter);\n      }\n    });\n  }\n\n  setHoverState(features = [], state) {\n    const options = this.styleLayers[0];\n    features.forEach((feature) => {\n      if ((!options.source && !options['source-layer']) || !feature.getId()) {\n        if (!feature.getId()) {\n          // eslint-disable-next-line no-console\n          console.warn(\n            \"No feature's id found. To use the feature state functionnality, tiles must be generated with --generate-ids. See https://github.com/mapbox/tippecanoe#adding-calculated-attributes.\",\n            feature.getId(),\n            feature.getProperties(),\n          );\n        }\n        return;\n      }\n\n      this.mapboxLayer.mbMap.setFeatureState(\n        {\n          id: feature.getId(),\n          source: options.source,\n          sourceLayer: options['source-layer'],\n        },\n        { hover: state },\n      );\n    });\n  }\n\n  select(features = []) {\n    this.setHoverState(this.selectedFeatures, false);\n    this.selectedFeatures = features;\n    this.setHoverState(this.selectedFeatures, true);\n  }\n\n  highlight(features = []) {\n    // Filter out selected features\n    const filtered = this.highlightedFeatures.filter((feature) => {\n      return !this.selectedFeatures\n        .map((feat) => feat.getId())\n        .includes(feature.getId());\n    });\n\n    // Remove previous highlight\n    this.setHoverState(filtered, false);\n    this.highlightedFeatures = features;\n\n    // Add highlight\n    this.setHoverState(this.highlightedFeatures, true);\n  }\n\n  /**\n   * Create exact copy of the MapboxLayer\n   * @returns {MapboxLayer} MapboxLayer\n   */\n  clone(mapboxLayer) {\n    const options = { ...this.options, mapboxLayer };\n    return new MapboxStyleLayer(options);\n  }\n}\n\nexport default MapboxStyleLayer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/layers/MapboxStyleLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 241,
    "kind": "function",
    "name": "applyLayoutVisibility",
    "memberof": "src/ol/layers/MapboxStyleLayer.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ol/layers/MapboxStyleLayer.js~applyLayoutVisibility",
    "access": "private",
    "export": false,
    "importPath": "mobility-toolbox-js/src/ol/layers/MapboxStyleLayer.js",
    "importStyle": null,
    "description": "Apply visibility to style layers that fits the filter function.",
    "lineNumber": 8,
    "params": [
      {
        "name": "mbMap",
        "types": [
          "*"
        ]
      },
      {
        "name": "visible",
        "types": [
          "*"
        ]
      },
      {
        "name": "filterFunc",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 242,
    "kind": "class",
    "name": "MapboxStyleLayer",
    "memberof": "src/ol/layers/MapboxStyleLayer.js",
    "static": true,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/layers/MapboxStyleLayer.js",
    "importStyle": "MapboxStyleLayer",
    "description": "Layer for visualizing a specific set of layer from a MapboxLayer.",
    "examples": [
      "import { MapboxStyleLayer } from 'mobility-toolbox-js/src/ol';"
    ],
    "lineNumber": 38,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": ""
      },
      {
        "tagName": "@inheritdoc",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Layer options."
      }
    ],
    "interface": false,
    "extends": [
      "src/ol/layers/Layer.js~Layer"
    ]
  },
  {
    "__docId__": 243,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "undocument": true
  },
  {
    "__docId__": 244,
    "kind": "member",
    "name": "options",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#options",
    "access": "public",
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 245,
    "kind": "member",
    "name": "mapboxLayer",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#mapboxLayer",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 246,
    "kind": "member",
    "name": "styleLayersFilter",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#styleLayersFilter",
    "access": "public",
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 247,
    "kind": "member",
    "name": "featureInfoFilter",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#featureInfoFilter",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 248,
    "kind": "member",
    "name": "queryRenderedLayersFilter",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#queryRenderedLayersFilter",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 249,
    "kind": "member",
    "name": "highlightedFeatures",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#highlightedFeatures",
    "access": "public",
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 250,
    "kind": "member",
    "name": "selectedFeatures",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#selectedFeatures",
    "access": "public",
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 251,
    "kind": "member",
    "name": "styleLayers",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#styleLayers",
    "access": "public",
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 254,
    "kind": "member",
    "name": "addDynamicFilters",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#addDynamicFilters",
    "access": "public",
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 256,
    "kind": "method",
    "name": "init",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#init",
    "access": "public",
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 257,
    "kind": "member",
    "name": "olLayer",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#olLayer",
    "access": "public",
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 258,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#terminate",
    "access": "public",
    "description": null,
    "lineNumber": 130,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 259,
    "kind": "method",
    "name": "addStyleLayers",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#addStyleLayers",
    "access": "public",
    "description": null,
    "lineNumber": 143,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 260,
    "kind": "method",
    "name": "removeStyleLayers",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#removeStyleLayers",
    "access": "public",
    "description": null,
    "lineNumber": 154,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 261,
    "kind": "method",
    "name": "onLoad",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#onLoad",
    "access": "public",
    "description": null,
    "lineNumber": 163,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 262,
    "kind": "member",
    "name": "isMbMapLoaded",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#isMbMapLoaded",
    "access": "public",
    "description": null,
    "lineNumber": 164,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 263,
    "kind": "method",
    "name": "getFeatureInfoAtCoordinate",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#getFeatureInfoAtCoordinate",
    "access": "public",
    "description": "Request feature information for a given coordinate.",
    "lineNumber": 178,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>} Promise with features, layer and coordinate\n or null if no feature was hit."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.Coordinate"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": "Coordinate to request the information at."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": "Promise with features, layer and coordinate\n or null if no feature was hit."
    }
  },
  {
    "__docId__": 264,
    "kind": "method",
    "name": "getFeatures2",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#getFeatures2",
    "access": "public",
    "description": null,
    "lineNumber": 204,
    "undocument": true,
    "params": [
      {
        "name": "resolve",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 265,
    "kind": "method",
    "name": "setFilter",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#setFilter",
    "access": "public",
    "description": null,
    "lineNumber": 208,
    "undocument": true,
    "params": [
      {
        "name": "filter",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 266,
    "kind": "method",
    "name": "setHoverState",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#setHoverState",
    "access": "public",
    "description": null,
    "lineNumber": 217,
    "undocument": true,
    "params": [
      {
        "name": "features",
        "optional": true,
        "types": [
          "*[]"
        ],
        "defaultRaw": [],
        "defaultValue": "[]"
      },
      {
        "name": "state",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 267,
    "kind": "method",
    "name": "select",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#select",
    "access": "public",
    "description": null,
    "lineNumber": 243,
    "undocument": true,
    "params": [
      {
        "name": "features",
        "optional": true,
        "types": [
          "*[]"
        ],
        "defaultRaw": [],
        "defaultValue": "[]"
      }
    ],
    "return": null
  },
  {
    "__docId__": 269,
    "kind": "method",
    "name": "highlight",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#highlight",
    "access": "public",
    "description": null,
    "lineNumber": 249,
    "undocument": true,
    "params": [
      {
        "name": "features",
        "optional": true,
        "types": [
          "*[]"
        ],
        "defaultRaw": [],
        "defaultValue": "[]"
      }
    ],
    "return": null
  },
  {
    "__docId__": 271,
    "kind": "method",
    "name": "clone",
    "memberof": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/MapboxStyleLayer.js~MapboxStyleLayer#clone",
    "access": "public",
    "description": "Create exact copy of the MapboxLayer",
    "lineNumber": 269,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{MapboxLayer} MapboxLayer"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "MapboxLayer"
      ],
      "spread": false,
      "description": "MapboxLayer"
    },
    "params": [
      {
        "name": "mapboxLayer",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 272,
    "kind": "file",
    "name": "src/ol/layers/TrackerLayer.js",
    "content": "import OLLayer from 'ol/layer/Layer';\nimport { unByKey } from 'ol/Observable';\nimport mixin from '../../common/mixins/TrackerLayerMixin';\nimport Layer from './Layer';\n\n/**\n * Responsible for loading tracker data.\n * @param {Object} options\n * @param {boolean} options.useDelayStyle Set the delay style.\n * @class\n * @extends {Layer}\n * @implements {TrackerLayerInterface}\n */\nclass TrackerLayer extends mixin(Layer) {\n  constructor(options = {}) {\n    const olLayer = new OLLayer({\n      render: (frameState) => {\n        if (this.tracker && this.tracker.canvas) {\n          this.tracker.renderTrajectories(\n            this.currTime,\n            frameState.size,\n            frameState.viewState.resolution,\n          );\n          return this.tracker.canvas;\n        }\n        return null;\n      },\n    });\n    super({\n      olLayer,\n      ...options,\n    });\n\n    // Array of ol events key. Be careful to not override this value in child classe.\n    this.olEventsKeys = [];\n  }\n\n  /**\n   * Initialize the layer and listen to feature clicks.\n   * @param {ol/Map~Map} map {@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html Map}\n   * @private\n   */\n  init(map) {\n    if (!map) {\n      return;\n    }\n\n    super.init(map, {\n      getPixelFromCoordinate: map.getPixelFromCoordinate.bind(map),\n    });\n  }\n\n  /**\n   * Set the current time, it triggers a rendering of the trajectories.\n   * @param {dateString | value} time\n   */\n  setCurrTime(time) {\n    const view = this.map.getView();\n    super.setCurrTime(time, this.map.getSize(), view.getResolution());\n  }\n\n  /**\n   * Trackerlayer is started\n   * @param {ol/Map~Map} map {@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}\n   * @private\n   */\n  start() {\n    super.start(\n      this.map.getSize(),\n      this.currentZoom,\n      this.map.getView().getResolution(),\n    );\n\n    this.olEventsKeys = [\n      this.map.on('moveend', () => {\n        const z = this.map.getView().getZoom();\n\n        if (z !== this.currentZoom) {\n          this.currentZoom = z;\n          this.startUpdateTime(z);\n        }\n      }),\n      this.map.on('pointermove', (evt) => {\n        if (this.map.getView().getInteracting() || !this.isHoverActive) {\n          return;\n        }\n        const [vehicle] = this.getVehiclesAtCoordinate(evt.coordinate);\n        this.map.getTargetElement().style.cursor = vehicle ? 'pointer' : 'auto';\n        this.tracker.setHoverVehicleId(vehicle && vehicle.id);\n      }),\n    ];\n  }\n\n  /**\n   * Stop current layer,.\n   * @private\n   */\n  stop() {\n    super.stop();\n    unByKey(this.olEventsKeys);\n    this.olEventsKeys = [];\n  }\n\n  /**\n   * Returns the vehicle which are at the given coordinates.\n   * Returns null when no vehicle is located at the given coordinates.\n   * @param {ol.coordinate} coordinate\n   * @returns {ol.feature | null} Vehicle feature\n   * @private\n   */\n  getVehiclesAtCoordinate(coordinate) {\n    const resolution = this.map.getView().getResolution();\n    return super.getVehiclesAtCoordinate(coordinate, resolution);\n  }\n}\n\nexport default TrackerLayer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/layers/TrackerLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 273,
    "kind": "class",
    "name": "TrackerLayer",
    "memberof": "src/ol/layers/TrackerLayer.js",
    "static": true,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/layers/TrackerLayer.js",
    "importStyle": "TrackerLayer",
    "description": "Responsible for loading tracker data.",
    "lineNumber": 14,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "options.useDelayStyle",
        "description": "Set the delay style."
      }
    ],
    "interface": false,
    "extends": [
      "Layer"
    ],
    "implements": [
      "TrackerLayerInterface"
    ]
  },
  {
    "__docId__": 274,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 15,
    "undocument": true
  },
  {
    "__docId__": 275,
    "kind": "member",
    "name": "olEventsKeys",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#olEventsKeys",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 276,
    "kind": "method",
    "name": "init",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#init",
    "access": "private",
    "description": "Initialize the layer and listen to feature clicks.",
    "lineNumber": 43,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol/Map~Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html Map}"
      }
    ],
    "return": null
  },
  {
    "__docId__": 277,
    "kind": "method",
    "name": "setCurrTime",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#setCurrTime",
    "access": "public",
    "description": "Set the current time, it triggers a rendering of the trajectories.",
    "lineNumber": 57,
    "params": [
      {
        "nullable": null,
        "types": [
          "dateString ",
          " value"
        ],
        "spread": false,
        "optional": false,
        "name": "time",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 278,
    "kind": "method",
    "name": "start",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#start",
    "access": "private",
    "description": "Trackerlayer is started",
    "lineNumber": 67,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol/Map~Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}"
      }
    ],
    "return": null
  },
  {
    "__docId__": 280,
    "kind": "member",
    "name": "currentZoom",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#currentZoom",
    "access": "public",
    "description": null,
    "lineNumber": 79,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 281,
    "kind": "method",
    "name": "stop",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#stop",
    "access": "private",
    "description": "Stop current layer,.",
    "lineNumber": 98,
    "params": [],
    "return": null
  },
  {
    "__docId__": 283,
    "kind": "method",
    "name": "getVehiclesAtCoordinate",
    "memberof": "src/ol/layers/TrackerLayer.js~TrackerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrackerLayer.js~TrackerLayer#getVehiclesAtCoordinate",
    "access": "private",
    "description": "Returns the vehicle which are at the given coordinates.\nReturns null when no vehicle is located at the given coordinates.",
    "lineNumber": 111,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{ol.feature | null} Vehicle feature"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.coordinate"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "ol.feature ",
        " null"
      ],
      "spread": false,
      "description": "Vehicle feature"
    }
  },
  {
    "__docId__": 284,
    "kind": "file",
    "name": "src/ol/layers/TrajservLayer.js",
    "content": "import Feature from 'ol/Feature';\nimport { transform as transformCoords } from 'ol/proj';\nimport { buffer, getWidth } from 'ol/extent';\nimport { Point, MultiPoint, LineString } from 'ol/geom';\nimport { Style, Fill, Stroke, Circle } from 'ol/style';\nimport { Vector as VectorLayer } from 'ol/layer';\nimport { Vector as VectorSource } from 'ol/source';\nimport TrackerLayer from './TrackerLayer';\nimport { getUTCTimeString } from '../../common/timeUtils';\nimport { getBgColor } from '../../common/trackerConfig';\nimport mixin from '../../common/mixins/TrajservLayerMixin';\n\n/**\n * Responsible for loading and display data from a Trajserv service.\n *\n * @example\n * import { TrajservLayer } from 'mobility-toolbox-js/src/mapbox';\n *\n * const layer = new TrajservLayer({\n *   url: 'https://api.geops.io/tracker/v1',\n *   apiKey: [yourApiKey],\n * });\n *\n *\n * @see <a href=\"/api/class/src/api/trajserv/TrajservAPI%20js~TrajservAPI%20html\">TrajservAPI</a>\n * @see <a href=\"/examples/ol-tracker\">OL tracker example</a>\n *\n * @extends {TrackerLayer}\n * @implements {TrajservLayerInterface}\n */\nclass TrajservLayer extends mixin(TrackerLayer) {\n  constructor(options) {\n    super(options);\n    Object.defineProperties(this, {\n      vectorLayer: {\n        value: new VectorLayer({\n          source: new VectorSource({ features: [] }),\n        }),\n      },\n    });\n  }\n\n  init(map) {\n    if (!map) {\n      return;\n    }\n\n    map.addLayer(this.vectorLayer);\n    super.init(map);\n  }\n\n  terminate() {\n    if (this.map) {\n      this.map.removeLayer(this.vectorLayer);\n    }\n    super.terminate();\n  }\n\n  start() {\n    if (!this.map) {\n      return;\n    }\n    super.start();\n    this.olEventsKeys = [\n      ...this.olEventsKeys,\n      this.map.on('singleclick', this.onMapClick.bind(this)),\n      this.map.on('moveend', this.onMoveEnd.bind(this)),\n    ];\n  }\n\n  /**\n   * Callback on 'moveend' event.\n   * @private\n   */\n  onMoveEnd() {\n    this.updateTrajectories();\n    if (this.selectedVehicleId && this.journeyId) {\n      this.highlightTrajectory();\n    }\n  }\n\n  /**\n   * Callback on 'singleclick' event.\n   * @private\n   */\n  onMapClick(evt) {\n    if (!this.clickCallbacks.length) {\n      return;\n    }\n\n    const [vehicle] = this.getVehiclesAtCoordinate(evt.coordinate);\n    const features = [];\n\n    if (vehicle) {\n      const geom = vehicle.coordinate ? new Point(vehicle.coordinate) : null;\n      features.push(new Feature({ geometry: geom, ...vehicle }));\n\n      if (features.length) {\n        this.selectedVehicleId = features[0].get('id');\n        this.journeyId = features[0].get('journeyIdentifier');\n        this.updateTrajectoryStations(this.selectedVehicleId).then(\n          (trajStations) => {\n            this.clickCallbacks.forEach((callback) =>\n              callback(trajStations, this, evt),\n            );\n          },\n        );\n      }\n    } else {\n      this.selectedVehicleId = null;\n      this.vectorLayer.getSource().clear();\n      this.clickCallbacks.forEach((callback) => callback(null, this, evt));\n    }\n  }\n\n  /**\n   * Draw the trajectory as a line with points for each stop.\n   * @param {Array} stationsCoords Array of station coordinates.\n   * @param {<LineString|MultiLineString} lineGeometry A LineString or a MultiLineString.\n   * @param {string} color The color of the line.\n   * @private\n   */\n  drawFullTrajectory(stationsCoords, lineGeometry, color) {\n    // Don't allow white lines, use red instead.\n    const vehiculeColor = /#ffffff/i.test(color) ? '#ff0000' : color;\n    const vectorSource = this.vectorLayer.getSource();\n    vectorSource.clear();\n\n    if (stationsCoords) {\n      const geometry = new MultiPoint(stationsCoords);\n      const aboveStationsFeature = new Feature(geometry);\n      aboveStationsFeature.setStyle(\n        new Style({\n          zIndex: 1,\n          image: new Circle({\n            radius: 5,\n            fill: new Fill({\n              color: '#000000',\n            }),\n          }),\n        }),\n      );\n      const belowStationsFeature = new Feature(geometry);\n      belowStationsFeature.setStyle(\n        new Style({\n          zIndex: 4,\n          image: new Circle({\n            radius: 4,\n            fill: new Fill({\n              color: this.useDelayStyle ? '#a0a0a0' : vehiculeColor,\n            }),\n          }),\n        }),\n      );\n      vectorSource.addFeatures([aboveStationsFeature, belowStationsFeature]);\n    }\n\n    const lineFeat = new Feature({\n      geometry: lineGeometry,\n    });\n    lineFeat.setStyle([\n      new Style({\n        zIndex: 2,\n        stroke: new Stroke({\n          color: '#000000',\n          width: 6,\n        }),\n      }),\n      new Style({\n        zIndex: 3,\n        stroke: new Stroke({\n          color: this.useDelayStyle ? '#a0a0a0' : vehiculeColor,\n          width: 4,\n        }),\n      }),\n    ]);\n    vectorSource.addFeature(lineFeat);\n  }\n\n  /**\n   * Fetch stations information with a trajectory ID\n   * @param {number} trajId The ID of the trajectory\n   * @private\n   */\n  updateTrajectoryStations(trajId) {\n    return super.updateTrajectoryStations(trajId).then((trajStations) => {\n      this.stationsCoords = [];\n      trajStations.stations.forEach((station) => {\n        this.stationsCoords.push(\n          transformCoords(station.coordinates, 'EPSG:4326', 'EPSG:3857'),\n        );\n      });\n\n      this.highlightTrajectory();\n      return trajStations;\n    });\n  }\n\n  highlightTrajectory() {\n    this.api\n      .fetchTrajectoryById(\n        this.getParams({\n          id: this.journeyId,\n          time: getUTCTimeString(new Date()),\n        }),\n      )\n      .then((traj) => {\n        const { p: multiLine, t, c } = traj;\n        const lineCoords = [];\n        multiLine.forEach((line) => {\n          line.forEach((point) => {\n            lineCoords.push([point.x, point.y]);\n          });\n        });\n\n        this.drawFullTrajectory(\n          this.stationsCoords,\n          new LineString(lineCoords),\n          c ? `#${c}` : getBgColor(t),\n        );\n      })\n      .catch(() => {\n        this.vectorLayer.getSource().clear();\n      });\n  }\n\n  /**\n   * @override\n   */\n  getParams(extraParams = {}) {\n    const ext = this.map.getView().calculateExtent();\n    const bbox = buffer(ext, getWidth(ext) / 10).join(',');\n    const zoom = this.map.getView().getZoom();\n\n    return super.getParams({\n      ...extraParams,\n      bbox,\n      s: zoom < 10 ? 1 : 0,\n      z: zoom,\n    });\n  }\n\n  defaultStyle(props) {\n    const zoom = this.map.getView().getZoom();\n    return super.defaultStyle(props, zoom);\n  }\n}\n\nexport default TrajservLayer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/layers/TrajservLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 285,
    "kind": "class",
    "name": "TrajservLayer",
    "memberof": "src/ol/layers/TrajservLayer.js",
    "static": true,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/layers/TrajservLayer.js",
    "importStyle": "TrajservLayer",
    "description": "Responsible for loading and display data from a Trajserv service.",
    "examples": [
      "import { TrajservLayer } from 'mobility-toolbox-js/src/mapbox';\n\nconst layer = new TrajservLayer({\n  url: 'https://api.geops.io/tracker/v1',\n  apiKey: [yourApiKey],\n});"
    ],
    "see": [
      "<a href=\"/api/class/src/api/trajserv/TrajservAPI%20js~TrajservAPI%20html\">TrajservAPI</a>",
      "<a href=\"/examples/ol-tracker\">OL tracker example</a>"
    ],
    "lineNumber": 31,
    "interface": false,
    "extends": [
      "TrackerLayer"
    ],
    "implements": [
      "TrajservLayerInterface"
    ]
  },
  {
    "__docId__": 286,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 32,
    "undocument": true
  },
  {
    "__docId__": 287,
    "kind": "method",
    "name": "init",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#init",
    "access": "public",
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 288,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#terminate",
    "access": "public",
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 289,
    "kind": "method",
    "name": "start",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#start",
    "access": "public",
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 290,
    "kind": "member",
    "name": "olEventsKeys",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#olEventsKeys",
    "access": "public",
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "type": {
      "types": [
        "undefined[]"
      ]
    }
  },
  {
    "__docId__": 291,
    "kind": "method",
    "name": "onMoveEnd",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#onMoveEnd",
    "access": "private",
    "description": "Callback on 'moveend' event.",
    "lineNumber": 75,
    "params": [],
    "return": null
  },
  {
    "__docId__": 292,
    "kind": "method",
    "name": "onMapClick",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#onMapClick",
    "access": "private",
    "description": "Callback on 'singleclick' event.",
    "lineNumber": 86,
    "params": [
      {
        "name": "evt",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 293,
    "kind": "member",
    "name": "selectedVehicleId",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#selectedVehicleId",
    "access": "public",
    "description": null,
    "lineNumber": 99,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 294,
    "kind": "member",
    "name": "journeyId",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#journeyId",
    "access": "public",
    "description": null,
    "lineNumber": 100,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 296,
    "kind": "method",
    "name": "drawFullTrajectory",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#drawFullTrajectory",
    "access": "private",
    "description": "Draw the trajectory as a line with points for each stop.",
    "lineNumber": 123,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "stationsCoords",
        "description": "Array of station coordinates."
      },
      {
        "nullable": null,
        "types": [
          "<LineString",
          "MultiLineString"
        ],
        "spread": false,
        "optional": false,
        "name": "lineGeometry",
        "description": "A LineString or a MultiLineString."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "color",
        "description": "The color of the line."
      }
    ],
    "return": null
  },
  {
    "__docId__": 297,
    "kind": "method",
    "name": "updateTrajectoryStations",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#updateTrajectoryStations",
    "access": "private",
    "description": "Fetch stations information with a trajectory ID",
    "lineNumber": 185,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "trajId",
        "description": "The ID of the trajectory"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 298,
    "kind": "member",
    "name": "stationsCoords",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#stationsCoords",
    "access": "public",
    "description": null,
    "lineNumber": 187,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 299,
    "kind": "method",
    "name": "highlightTrajectory",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#highlightTrajectory",
    "access": "public",
    "description": null,
    "lineNumber": 199,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 300,
    "kind": "method",
    "name": "getParams",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#getParams",
    "access": "public",
    "description": "",
    "lineNumber": 230,
    "override": true,
    "params": [
      {
        "name": "extraParams",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 301,
    "kind": "method",
    "name": "defaultStyle",
    "memberof": "src/ol/layers/TrajservLayer.js~TrajservLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/TrajservLayer.js~TrajservLayer#defaultStyle",
    "access": "public",
    "description": null,
    "lineNumber": 243,
    "undocument": true,
    "params": [
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 302,
    "kind": "file",
    "name": "src/ol/layers/VectorLayer.js",
    "content": "import { unByKey } from 'ol/Observable';\nimport Layer from './Layer';\n\n/**\n * A class representing vector layer to display on BasicMap\n * @class\n * @example\n * import { VectorLayer } from 'mobility-toolbox-js/src/ol';\n * @inheritDoc\n * @param {Object} [options]\n */\nclass VectorLayer extends Layer {\n  constructor(options = {}) {\n    super(options);\n\n    this.hitTolerance = options.hitTolerance || 5;\n  }\n\n  /**\n   * Listens to click events on the layer.\n   * @param {function} callback Callback function, called with the clicked\n   *   features (https://openlayers.org/en/latest/apidoc/module-ol_Feature.html),\n   *   the layer instance and the click coordinate.\n   */\n  onClick(callback) {\n    if (typeof callback === 'function') {\n      this.clickCallbacks.push(callback);\n    } else {\n      throw new Error('callback must be of type function.');\n    }\n  }\n\n  /**\n   * Request feature information for a given coordinate.\n   * @param {ol.Coordinate} coordinate {@link https://openlayers.org/en/latest/apidoc/module-ol_coordinate.html ol/Coordinate} to request the information at.\n   * @returns {Promise<Object>} Promise with features, layer and coordinate\n   *  or null if no feature was hit.\n   * eslint-disable-next-line class-methods-use-this\n   */\n  getFeatureInfoAtCoordinate(coordinate) {\n    let features = [];\n\n    if (this.map) {\n      const pixel = this.map.getPixelFromCoordinate(coordinate);\n      features = this.map.getFeaturesAtPixel(pixel, {\n        layerFilter: (l) => l === this.olLayer,\n        hitTolerance: this.hitTolerance,\n      });\n    }\n\n    return Promise.resolve({\n      features,\n      layer: this,\n      coordinate,\n    });\n  }\n\n  /**\n   * Initialize the layer and listen to feature clicks.\n   * @param {ol/Map~Map} map {@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}\n   */\n  init(map) {\n    super.init(map);\n\n    if (!this.map) {\n      return;\n    }\n\n    // Listen to click events\n    this.singleClickRef = this.map.on('singleclick', (e) => {\n      if (!this.clickCallbacks.length) {\n        return;\n      }\n\n      this.getFeatureInfoAtCoordinate(e.coordinate)\n        .then((d) => this.callClickCallbacks(d.features, d.layer, d.coordinate))\n        .catch(() => this.callClickCallbacks([], this, e.coordinate));\n    });\n  }\n\n  /**\n   * Call click callbacks with given parameters.\n   * This is done in a separate function for being able to modify the response.\n   * @private\n   */\n  callClickCallbacks(features, layer, coordinate) {\n    this.clickCallbacks.forEach((c) => c(features, layer, coordinate));\n  }\n\n  /**\n   * Terminate what was initialized in init function. Remove layer, events...\n   */\n  terminate() {\n    super.terminate();\n    if (this.singleClickRef) {\n      unByKey(this.singleClickRef);\n    }\n  }\n}\n\nexport default VectorLayer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/layers/VectorLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 303,
    "kind": "class",
    "name": "VectorLayer",
    "memberof": "src/ol/layers/VectorLayer.js",
    "static": true,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/layers/VectorLayer.js",
    "importStyle": "VectorLayer",
    "description": "A class representing vector layer to display on BasicMap",
    "examples": [
      "import { VectorLayer } from 'mobility-toolbox-js/src/ol';"
    ],
    "lineNumber": 12,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": ""
      },
      {
        "tagName": "@inheritDoc",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": ""
      }
    ],
    "interface": false,
    "extends": [
      "src/ol/layers/Layer.js~Layer"
    ]
  },
  {
    "__docId__": 304,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 305,
    "kind": "member",
    "name": "hitTolerance",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#hitTolerance",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 306,
    "kind": "method",
    "name": "onClick",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#onClick",
    "access": "public",
    "description": "Listens to click events on the layer.",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Callback function, called with the clicked\n  features (https://openlayers.org/en/latest/apidoc/module-ol_Feature.html),\n  the layer instance and the click coordinate."
      }
    ],
    "return": null
  },
  {
    "__docId__": 307,
    "kind": "method",
    "name": "getFeatureInfoAtCoordinate",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#getFeatureInfoAtCoordinate",
    "access": "public",
    "description": "Request feature information for a given coordinate.",
    "lineNumber": 40,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>} Promise with features, layer and coordinate\n or null if no feature was hit.\neslint-disable-next-line class-methods-use-this"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.Coordinate"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_coordinate.html ol/Coordinate} to request the information at."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": "Promise with features, layer and coordinate\n or null if no feature was hit.\neslint-disable-next-line class-methods-use-this"
    }
  },
  {
    "__docId__": 308,
    "kind": "method",
    "name": "init",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#init",
    "access": "public",
    "description": "Initialize the layer and listen to feature clicks.",
    "lineNumber": 62,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol/Map~Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}"
      }
    ],
    "return": null
  },
  {
    "__docId__": 309,
    "kind": "member",
    "name": "singleClickRef",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#singleClickRef",
    "access": "public",
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 310,
    "kind": "method",
    "name": "callClickCallbacks",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#callClickCallbacks",
    "access": "private",
    "description": "Call click callbacks with given parameters.\nThis is done in a separate function for being able to modify the response.",
    "lineNumber": 86,
    "params": [
      {
        "name": "features",
        "types": [
          "*"
        ]
      },
      {
        "name": "layer",
        "types": [
          "*"
        ]
      },
      {
        "name": "coordinate",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 311,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/ol/layers/VectorLayer.js~VectorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/VectorLayer.js~VectorLayer#terminate",
    "access": "public",
    "description": "Terminate what was initialized in init function. Remove layer, events...",
    "lineNumber": 93,
    "params": [],
    "return": null
  },
  {
    "__docId__": 312,
    "kind": "file",
    "name": "src/ol/layers/WMSLayer.js",
    "content": "import GeoJSON from 'ol/format/GeoJSON';\nimport { unByKey } from 'ol/Observable';\nimport OLLayer from './Layer';\n\n/**\n * @class\n * @augments Layer\n * @extends baba\n */\nclass WMSLayer extends OLLayer {\n  /**\n   * @inheritdoc\n   */\n  constructor(options = {}) {\n    super(options);\n\n    this.format = new GeoJSON();\n  }\n\n  /**\n   * Get features infos' Url.\n   * @param {ol.Coordinate} coord  {@link https://openlayers.org/en/latest/apidoc/module-ol_coordinate.html ol/Coordinate}\n   * @returns {ol.Layer} {@link https://openlayers.org/en/latest/apidoc/module-ol_layer_Layer.html ol/Layer}\n   */\n  getFeatureInfoUrl(coord) {\n    const projection = this.map.getView().getProjection();\n    const resolution = this.map.getView().getResolution();\n\n    if (this.olLayer.getSource().getFeatureInfoUrl) {\n      return this.olLayer\n        .getSource()\n        .getFeatureInfoUrl(coord, resolution, projection, {\n          info_format: 'application/json',\n          query_layers: this.olLayer.getSource().getParams().layers,\n        });\n    }\n    return false;\n  }\n\n  /**\n   * Request feature information for a given coordinate.\n   * @param {ol.Coordinate} coordinate {@link https://openlayers.org/en/latest/apidoc/module-ol_coordinate.html ol/Coordinate} to request the information at.\n   * @returns {Promise<Object>} Promise with features, layer and coordinate\n   *  or null if no feature was hit.\n   * eslint-disable-next-line class-methods-use-this\n   */\n  getFeatureInfoAtCoordinate(coordinate) {\n    return fetch(this.getFeatureInfoUrl(coordinate))\n      .then((resp) => resp.json())\n      .then((r) => r.features)\n      .then((data) => ({\n        layer: this,\n        coordinate,\n        features: data.map((d) => this.format.readFeature(d)),\n      }))\n      .catch(() =>\n        // resolve an empty feature array something fails\n        Promise.resolve({\n          features: [],\n          coordinate,\n          layer: this,\n        }),\n      );\n  }\n\n  /**\n   * Listens to click events on the layer.\n   * @param {function} callback Callback function, called with the clicked\n   *   features (https://openlayers.org/en/latest/apidoc/module-ol_Feature.html),\n   *   the layer instance and the click event.\n   */\n  onClick(callback) {\n    if (typeof callback === 'function') {\n      this.clickCallbacks.push(callback);\n    } else {\n      throw new Error('callback must be of type function.');\n    }\n  }\n\n  /**\n   * Initialize the layer and listen to feature clicks.\n   * @param {ol/Map~Map} map {@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}\n   */\n  init(map) {\n    super.init(map);\n\n    if (!this.map) {\n      return;\n    }\n\n    // Listen to click events\n    this.singleClickRef = this.map.on('singleclick', (e) => {\n      if (!this.clickCallbacks.length) {\n        return;\n      }\n\n      this.getFeatureInfoAtCoordinate(e.coordinate).then((data) =>\n        this.callClickCallbacks(data.features, data.layer, data.coordinate),\n      );\n    });\n  }\n\n  /**\n   * Call click callbacks with given parameters.\n   * This is done in a separate function for being able to modify the response.\n   * @private\n   */\n  callClickCallbacks(features, layer, coordinate) {\n    this.clickCallbacks.forEach((c) => c(features, layer, coordinate));\n  }\n\n  /**\n   * Terminate what was initialized in init function. Remove layer, events...\n   */\n  terminate() {\n    super.terminate();\n    if (this.singleClickRef) {\n      unByKey(this.singleClickRef);\n    }\n  }\n}\n\nexport default WMSLayer;\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/ol/layers/WMSLayer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 313,
    "kind": "class",
    "name": "WMSLayer",
    "memberof": "src/ol/layers/WMSLayer.js",
    "static": true,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer",
    "access": "public",
    "export": true,
    "importPath": "mobility-toolbox-js/src/ol/layers/WMSLayer.js",
    "importStyle": "WMSLayer",
    "description": "",
    "lineNumber": 10,
    "unknown": [
      {
        "tagName": "@class",
        "tagValue": ""
      },
      {
        "tagName": "@augments",
        "tagValue": "Layer"
      }
    ],
    "interface": false,
    "extends": [
      "*"
    ]
  },
  {
    "__docId__": 314,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 14,
    "unknown": [
      {
        "tagName": "@inheritdoc",
        "tagValue": ""
      }
    ]
  },
  {
    "__docId__": 315,
    "kind": "member",
    "name": "format",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#format",
    "access": "public",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 316,
    "kind": "method",
    "name": "getFeatureInfoUrl",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#getFeatureInfoUrl",
    "access": "public",
    "description": "Get features infos' Url.",
    "lineNumber": 25,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{ol.Layer} {@link https://openlayers.org/en/latest/apidoc/module-ol_layer_Layer.html ol/Layer}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.Coordinate"
        ],
        "spread": false,
        "optional": false,
        "name": "coord",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_coordinate.html ol/Coordinate}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "ol.Layer"
      ],
      "spread": false,
      "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_layer_Layer.html ol/Layer}"
    }
  },
  {
    "__docId__": 317,
    "kind": "method",
    "name": "getFeatureInfoAtCoordinate",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#getFeatureInfoAtCoordinate",
    "access": "public",
    "description": "Request feature information for a given coordinate.",
    "lineNumber": 47,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>} Promise with features, layer and coordinate\n or null if no feature was hit.\neslint-disable-next-line class-methods-use-this"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ol.Coordinate"
        ],
        "spread": false,
        "optional": false,
        "name": "coordinate",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_coordinate.html ol/Coordinate} to request the information at."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": "Promise with features, layer and coordinate\n or null if no feature was hit.\neslint-disable-next-line class-methods-use-this"
    }
  },
  {
    "__docId__": 318,
    "kind": "method",
    "name": "onClick",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#onClick",
    "access": "public",
    "description": "Listens to click events on the layer.",
    "lineNumber": 72,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Callback function, called with the clicked\n  features (https://openlayers.org/en/latest/apidoc/module-ol_Feature.html),\n  the layer instance and the click event."
      }
    ],
    "return": null
  },
  {
    "__docId__": 319,
    "kind": "method",
    "name": "init",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#init",
    "access": "public",
    "description": "Initialize the layer and listen to feature clicks.",
    "lineNumber": 84,
    "params": [
      {
        "nullable": null,
        "types": [
          "ol/Map~Map"
        ],
        "spread": false,
        "optional": false,
        "name": "map",
        "description": "{@link https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html ol/Map}"
      }
    ],
    "return": null
  },
  {
    "__docId__": 320,
    "kind": "member",
    "name": "singleClickRef",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#singleClickRef",
    "access": "public",
    "description": null,
    "lineNumber": 92,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 321,
    "kind": "method",
    "name": "callClickCallbacks",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#callClickCallbacks",
    "access": "private",
    "description": "Call click callbacks with given parameters.\nThis is done in a separate function for being able to modify the response.",
    "lineNumber": 108,
    "params": [
      {
        "name": "features",
        "types": [
          "*"
        ]
      },
      {
        "name": "layer",
        "types": [
          "*"
        ]
      },
      {
        "name": "coordinate",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 322,
    "kind": "method",
    "name": "terminate",
    "memberof": "src/ol/layers/WMSLayer.js~WMSLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ol/layers/WMSLayer.js~WMSLayer#terminate",
    "access": "public",
    "description": "Terminate what was initialized in init function. Remove layer, events...",
    "lineNumber": 115,
    "params": [],
    "return": null
  },
  {
    "__docId__": 323,
    "kind": "file",
    "name": "src/setupTests.js",
    "content": "/* eslint-disable import/no-extraneous-dependencies */\nimport 'jest-canvas-mock';\n\nglobal.URL.createObjectURL = jest.fn(() => 'fooblob');\n",
    "static": true,
    "longname": "/home/lucien/repositories/mobility-toolbox-js/src/setupTests.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "kind": "index",
    "content": "# mobility-toolbox-js\n\nToolbox for JavaScript applications in the domains of mobility and logistics.\nThe tools in this library have been inspired by many projects realized for public transport agencies, mobility providers and logistics companies.\n\n![Node CI](https://github.com/geops/mobility-toolbox-js/workflows/Node%20CI/badge.svg)\n[![Netlify Status](https://api.netlify.com/api/v1/badges/b368ab18-9dbf-416c-91f6-a82076b02c10/deploy-status)](https://app.netlify.com/sites/mobility-toolbox-js/deploys)\n\n## Main Features\n* Display [real-time vehicle positions and prognosis data](http://tracker.geops.ch/) on a map.\n* Search for [stops and stations](https://maps2.trafimage.ch) all over the world.\n* Get [precise geographic courses](https://geops.github.io/geops-routing-demo/) for all modes of transport.\n* Generate beautiful maps for public transport, mobility and logistics\n\n## Getting started\nInstall running `yarn add mobility-toolbox-js`.\n\nCheck our examples and the API Documentation.\n",
    "longname": "/home/lucien/repositories/mobility-toolbox-js/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"mobility-toolbox-js\",\n  \"license\": \"MIT\",\n  \"version\": \"1.0.1\",\n  \"main\": \"build/index.js\",\n  \"module\": \"src/index.js\",\n  \"files\": [\n    \"build\",\n    \"src/index.js\",\n    \"src/api\",\n    \"src/ol\",\n    \"src/mapbox\",\n    \"src/search\",\n    \"src/common\"\n  ],\n  \"dependencies\": {\n    \"@material-ui/core\": \"^4.9.14\",\n    \"@material-ui/icons\": \"^4.9.1\",\n    \"@material-ui/styles\": \"^4.9.14\",\n    \"codesandbox\": \"^2.1.14\",\n    \"es6-mixin\": \"^0.3.0\",\n    \"lodash\": \"^4.17.15\",\n    \"mapbox-gl\": \"^1.10.1\",\n    \"ol\": \"^6.3.1\",\n    \"path\": \"^0.12.7\",\n    \"prop-types\": \"^15.7.2\",\n    \"query-string\": \"^6.13.0\",\n    \"react\": \"^16.13.1\",\n    \"react-app-polyfill\": \"^1.0.6\",\n    \"react-dom\": \"^16.13.1\",\n    \"react-markdown\": \"^4.3.1\",\n    \"react-router\": \"^5.2.0\",\n    \"react-router-dom\": \"^5.2.0\",\n    \"react-syntax-highlighter\": \"^12.2.1\",\n    \"taffydb\": \"^2.7.3\",\n    \"typeface-lato\": \"^0.0.75\",\n    \"uuid\": \"^8.1.0\"\n  },\n  \"devDependencies\": {\n    \"@babel/plugin-transform-runtime\": \"7.10.1\",\n    \"@neutrinojs/airbnb\": \"9.1.0\",\n    \"@neutrinojs/airbnb-base\": \"9.1.0\",\n    \"@neutrinojs/copy\": \"9.1.0\",\n    \"@neutrinojs/image-loader\": \"9.1.0\",\n    \"@neutrinojs/jest\": \"9.1.0\",\n    \"@neutrinojs/library\": \"9.1.0\",\n    \"@neutrinojs/react\": \"9.1.0\",\n    \"cypress\": \"4.8.0\",\n    \"deepmerge\": \"4.2.2\",\n    \"documentation\": \"13.0.1\",\n    \"esdoc\": \"1.1.0\",\n    \"esdoc-ecmascript-proposal-plugin\": \"1.0.0\",\n    \"esdoc-publish-html-plugin\": \"1.1.2\",\n    \"esdoc-standard-plugin\": \"1.0.0\",\n    \"eslint\": \"7.1.0\",\n    \"eslint-config-airbnb\": \"18.1.0\",\n    \"eslint-config-prettier\": \"6.11.0\",\n    \"eslint-plugin-cypress\": \"2.11.1\",\n    \"eslint-plugin-import\": \"2.20.2\",\n    \"eslint-plugin-jsx-a11y\": \"6.2.3\",\n    \"eslint-plugin-prettier\": \"3.1.3\",\n    \"eslint-plugin-react\": \"7.20.0\",\n    \"eslint-plugin-react-hooks\": \"4.0.4\",\n    \"fixpack\": \"3.0.6\",\n    \"husky\": \"4.2.5\",\n    \"jest\": \"25.5.4\",\n    \"jest-canvas-mock\": \"2.2.0\",\n    \"jest-fetch-mock\": \"3.0.3\",\n    \"jest-serializer-html\": \"7.0.0\",\n    \"jsdoc\": \"3.6.4\",\n    \"lint-staged\": \"10.2.9\",\n    \"neutrino\": \"9.1.0\",\n    \"node-sass\": \"4.14.1\",\n    \"postcss-loader\": \"3.0.0\",\n    \"prettier\": \"2.0.5\",\n    \"sass-loader\": \"8.0.2\",\n    \"sort-json\": \"2.0.0\",\n    \"start-server-and-test\": \"1.11.0\",\n    \"stylelint\": \"13.6.0\",\n    \"stylelint-config-recommended-scss\": \"4.2.0\",\n    \"stylelint-config-standard\": \"20.0.0\",\n    \"stylelint-scss\": \"3.17.2\",\n    \"webpack\": \"4.43.0\",\n    \"webpack-cli\": \"3.3.11\",\n    \"webpack-dev-server\": \"3.11.0\"\n  },\n  \"scripts\": {\n    \"apidoc\": \"esdoc\",\n    \"build\": \"yarn lib\",\n    \"coverage\": \"yarn test  --watchAll=false  --coverage --coverageDirectory=coverage\",\n    \"cy:open\": \"cypress open\",\n    \"cy:run\": \"cypress run\",\n    \"cy:test\": \"start-server-and-test start http://localhost:5000 'cypress run'\",\n    \"doc\": \"yarn apidoc && cp apidoc/index.json src/doc/components/Esdoc/ && webpack --mode production\",\n    \"doc:dev\": \"yarn apidoc && webpack --mode development\",\n    \"format\": \"prettier --write 'src/**/*.js' && eslint 'src/**/*.js' --fix && stylelint 'src/**/*.css' 'src/**/*.scss' --fix\",\n    \"lib\": \"REACT_APP_LIB_MODE=1  webpack --mode production\",\n    \"lib:dev\": \"REACT_APP_LIB_MODE=1  webpack --mode development\",\n    \"lint\": \"eslint 'src/**/*.js' && stylelint 'src/**/*.css' 'src/**/*.scss'\",\n    \"publish:beta\": \"yarn publish:public --tag beta\",\n    \"publish:public\": \"yarn version && git push origin HEAD && yarn build && yarn publish\",\n    \"start\": \"yarn doc && webpack-dev-server --mode development --open\",\n    \"test\": \"REACT_APP_LIB_MODE=1 jest --env=jsdom --transformIgnorePatterns \\\"/node_modules/(?!(ol)/).*/\\\"\",\n    \"test:watch\": \"yarn test --watchAll\"\n  },\n  \"browserslist\": {\n    \"production\": [\n      \">0.2%\",\n      \"not dead\",\n      \"not op_mini all\"\n    ],\n    \"development\": [\n      \"last 1 chrome version\",\n      \"last 1 firefox version\",\n      \"last 1 safari version\",\n      \"last 1 ie version\"\n    ]\n  },\n  \"eslintConfig\": {\n    \"env\": {\n      \"cypress/globals\": true,\n      \"node\": true,\n      \"browser\": true,\n      \"es6\": true,\n      \"jest\": true\n    },\n    \"parser\": \"babel-eslint\",\n    \"extends\": [\n      \"airbnb\",\n      \"airbnb/hooks\",\n      \"prettier\",\n      \"prettier/react\"\n    ],\n    \"plugins\": [\n      \"cypress\",\n      \"prettier\"\n    ],\n    \"rules\": {\n      \"react/jsx-filename-extension\": [\n        1,\n        {\n          \"extensions\": [\n            \".js\",\n            \".jsx\"\n          ]\n        }\n      ],\n      \"prettier/prettier\": \"error\"\n    },\n    \"settings\": {\n      \"react\": {\n        \"version\": \"detect\"\n      }\n    }\n  },\n  \"husky\": {\n    \"hooks\": {\n      \"post-checkout\": \"yarn install --frozen-lockfile\",\n      \"post-merge\": \"yarn install --frozen-lockfile\",\n      \"post-rebase\": \"yarn install --frozen-lockfile\",\n      \"pre-commit\": \"CI=true lint-staged   \"\n    }\n  },\n  \"lint-staged\": {\n    \"(src|__mocks__)/**/*.js\": [\n      \"eslint --fix\",\n      \"prettier --write\",\n      \"git add\",\n      \"yarn test --bail --findRelatedTests\"\n    ],\n    \"package.json\": [\n      \"fixpack --sortToTop name --sortToTop license --sortToTop description --sortToTop version --sortToTop author --sortToTop main --sortToTop module --sortToTop files --sortToTop proxy --sortToTop dependencies --sortToTop peerDependencies --sortToTop devDependencies --sortToTop resolutions --sortToTop scripts\"\n    ],\n    \"src/**/*.{css,scss}\": [\n      \"stylelint --fix\"\n    ]\n  },\n  \"prettier\": {\n    \"trailingComma\": \"all\",\n    \"singleQuote\": true\n  },\n  \"stylelint\": {\n    \"plugins\": [\n      \"stylelint-scss\"\n    ],\n    \"extends\": [\n      \"stylelint-config-standard\",\n      \"stylelint-config-recommended-scss\"\n    ]\n  }\n}\n",
    "longname": "/home/lucien/repositories/mobility-toolbox-js/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  },
  {
    "kind": "member",
    "name": "url",
    "memberof": "src/api/stops/StopsAPI.js~StopsAPI",
    "static": false,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI#url",
    "access": "public",
    "description": "Url of the service.",
    "lineNumber": 18,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "kind": "member",
    "name": "apiKey",
    "memberof": "src/api/stops/StopsAPI.js~StopsAPI",
    "static": false,
    "longname": "src/api/stops/StopsAPI.js~StopsAPI#apiKey",
    "access": "public",
    "description": "Api key to access the service.",
    "lineNumber": 18,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "kind": "member",
    "name": "url",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#url",
    "access": "public",
    "description": "Url of the service.",
    "lineNumber": 22,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "kind": "member",
    "name": "apiKey",
    "memberof": "src/api/trajserv/TrajservAPI.js~TrajservAPI",
    "static": false,
    "longname": "src/api/trajserv/TrajservAPI.js~TrajservAPI#apiKey",
    "access": "public",
    "description": "Api key to access the service.",
    "lineNumber": 22,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "kind": "member",
    "name": "name",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#name",
    "access": "public",
    "description": "Name of the layer",
    "lineNumber": 24,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "kind": "member",
    "name": "key",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#key",
    "access": "public",
    "description": "Identifier of the layer. Must be unique.",
    "lineNumber": 24,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "kind": "member",
    "name": "isBaseLayer",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#isBaseLayer",
    "access": "public",
    "description": "Define if the layer is a base layer. Read-only.",
    "lineNumber": 24,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "isQueryable",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#isQueryable",
    "access": "public",
    "description": "Define if the layer can be queried. Read-only.",
    "lineNumber": 24,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "isReactSpatialLayer",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#isReactSpatialLayer",
    "access": "public",
    "description": "Custom property for duck typing since `instanceof` is not working when the instance was created on different bundles. Read-only.",
    "lineNumber": 24,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "children",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#children",
    "access": "public",
    "description": "List of children.",
    "lineNumber": 24,
    "type": {
      "types": [
        "Layer[]"
      ]
    }
  },
  {
    "kind": "member",
    "name": "copyright",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#copyright",
    "access": "public",
    "description": "Copyright.",
    "lineNumber": 24,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "kind": "member",
    "name": "visible",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#visible",
    "access": "public",
    "description": "Define if the layer is visible or not.",
    "lineNumber": 24,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "properties",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#properties",
    "access": "public",
    "description": "Custom properties.",
    "lineNumber": 24,
    "type": {
      "types": [
        "Object"
      ]
    }
  },
  {
    "kind": "member",
    "name": "map",
    "memberof": "src/common/layers/Layer.js~Layer",
    "static": false,
    "longname": "src/common/layers/Layer.js~Layer#map",
    "access": "public",
    "description": "The map where the layer is displayed.",
    "lineNumber": 24,
    "type": {
      "types": [
        "ol/Map~Map",
        "mapboxgl.Map"
      ]
    }
  },
  {
    "kind": "member",
    "name": "isTrackerLayer",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#isTrackerLayer",
    "access": "public",
    "description": "Property for duck typing since `instanceof` is not working when the instance was created on different bundles.",
    "lineNumber": 17,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "isHoverActive",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#isHoverActive",
    "access": "public",
    "description": "Activate/deactivate pointer hover effect.",
    "lineNumber": 17,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "style",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#style",
    "access": "public",
    "description": "Style of the vehicle.",
    "lineNumber": 17,
    "type": {
      "types": [
        "function"
      ]
    }
  },
  {
    "kind": "member",
    "name": "filter",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#filter",
    "access": "public",
    "description": "Time speed.",
    "lineNumber": 17,
    "type": {
      "types": [
        "FilterFunction"
      ]
    }
  },
  {
    "kind": "member",
    "name": "sort",
    "memberof": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrackerLayerMixin.js~TrackerLayerInterface#sort",
    "access": "public",
    "description": "Set the filter for tracker features.",
    "lineNumber": 17,
    "type": {
      "types": [
        "function"
      ]
    }
  },
  {
    "kind": "member",
    "name": "isTrackerLayer",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#isTrackerLayer",
    "access": "public",
    "description": "Property for duck typing since `instanceof` is not working when the instance was created on different bundles.",
    "lineNumber": 30,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "isHoverActive",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#isHoverActive",
    "access": "public",
    "description": "Activate/deactivate pointer hover effect.",
    "lineNumber": 30,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "kind": "member",
    "name": "style",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#style",
    "access": "public",
    "description": "Style of the vehicle.",
    "lineNumber": 30,
    "type": {
      "types": [
        "function"
      ]
    }
  },
  {
    "kind": "member",
    "name": "filter",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#filter",
    "access": "public",
    "description": "Time speed.",
    "lineNumber": 30,
    "type": {
      "types": [
        "FilterFunction"
      ]
    }
  },
  {
    "kind": "member",
    "name": "sort",
    "memberof": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface",
    "static": false,
    "longname": "src/common/mixins/TrajservLayerMixin.js~TrajservLayerInterface#sort",
    "access": "public",
    "description": "Set the filter for tracker features.",
    "lineNumber": 30,
    "type": {
      "types": [
        "function"
      ]
    }
  }
]